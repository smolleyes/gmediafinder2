<!-- Creator     : groff version 1.20.1 -->
<!-- CreationDate: Fri Feb  4 06:25:04 2011 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>FFMPEG</title>

</head>
<body>

<h1 align="center">FFMPEG</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#TIPS">TIPS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#EXPRESSION EVALUATION">EXPRESSION EVALUATION</a><br>
<a href="#DEMUXERS">DEMUXERS</a><br>
<a href="#MUXERS">MUXERS</a><br>
<a href="#INPUT DEVICES">INPUT DEVICES</a><br>
<a href="#OUTPUT DEVICES">OUTPUT DEVICES</a><br>
<a href="#PROTOCOLS">PROTOCOLS</a><br>
<a href="#BITSTREAM FILTERS">BITSTREAM FILTERS</a><br>
<a href="#FILTERGRAPH DESCRIPTION">FILTERGRAPH DESCRIPTION</a><br>
<a href="#AUDIO FILTERS">AUDIO FILTERS</a><br>
<a href="#AUDIO SOURCES">AUDIO SOURCES</a><br>
<a href="#AUDIO SINKS">AUDIO SINKS</a><br>
<a href="#VIDEO FILTERS">VIDEO FILTERS</a><br>
<a href="#VIDEO SOURCES">VIDEO SOURCES</a><br>
<a href="#VIDEO SINKS">VIDEO SINKS</a><br>
<a href="#METADATA">METADATA</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ffmpeg &minus;
FFmpeg video converter</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ffmpeg [[infile
options][<b>&minus;i</b> <i>infile</i>]]... {[outfile
options] <i>outfile</i>}...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">FFmpeg is a
very fast video and audio converter. It can also grab from a
live audio/video source.</p>

<p style="margin-left:11%; margin-top: 1em">The command
line interface is designed to be intuitive, in the sense
that FFmpeg tries to figure out all parameters that can
possibly be derived automatically. You usually only have to
specify the target bitrate you want.</p>

<p style="margin-left:11%; margin-top: 1em">FFmpeg can also
convert from any sample rate to any other, and resize video
on the fly with a high quality polyphase filter.</p>

<p style="margin-left:11%; margin-top: 1em">As a general
rule, options are applied to the next specified file.
Therefore, order is important, and you can have the same
option on the command line multiple times. Each occurrence
is then applied to the next input or output file.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>To set the video bitrate of the output file to
64kbit/s:</p> </td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i input.avi &minus;b 64k output.avi</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p style="margin-top: 1em">To force the frame rate of the
output file to 24 fps:</p></td>
<td width="2%">
</td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i input.avi &minus;r 24 output.avi</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">To force the frame rate of the
input file (valid for raw formats only) to 1 fps and the
frame rate of the output file to 24 fps:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;r 1 &minus;i input.m2v &minus;r 24 output.avi</pre>


<p style="margin-left:11%; margin-top: 1em">The format
option may be needed for raw input files.</p>

<p style="margin-left:11%; margin-top: 1em">By default,
FFmpeg tries to convert as losslessly as possible: It uses
the same audio and video parameters for the outputs as the
one specified for the inputs.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All the
numerical options, if not specified otherwise, accept in
input a string representing a number, which may contain one
of the International System number postfixes, for example
&rsquo;K&rsquo;, &rsquo;M&rsquo;, &rsquo;G&rsquo;. If
&rsquo;i&rsquo; is appended after the postfix, powers of 2
are used instead of powers of 10. The &rsquo;B&rsquo;
postfix multiplies the value for 8, and can be appended
after another postfix or used alone. This allows using for
example &rsquo; <small>KB</small> &rsquo;,
&rsquo;MiB&rsquo;, &rsquo;G&rsquo; and &rsquo;B&rsquo; as
postfix.</p>

<p style="margin-left:11%; margin-top: 1em">Options which
do not take arguments are boolean options, and set the
corresponding value to true. They can be set to false by
prefixing with &quot;no&quot; the option name, for example
using &quot;&minus;nofoo&quot; in the commandline will set
to false the boolean option with name &quot;foo&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Generic
options</b> <br>
These options are shared amongst the ff* tools.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;L</b></p></td>
<td width="3%"></td>
<td width="20%">


<p style="margin-top: 1em">Show license.</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;h, &minus;?,
&minus;help, &minus;&minus;help</b></p>

<p style="margin-left:17%;">Show help.</p>

<p style="margin-left:11%;"><b>&minus;version</b></p>

<p style="margin-left:17%;">Show version.</p>

<p style="margin-left:11%;"><b>&minus;formats</b></p>

<p style="margin-left:17%;">Show available formats.</p>

<p style="margin-left:17%; margin-top: 1em">The fields
preceding the format names have the following meanings:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>D</b></p></td>
<td width="5%"></td>
<td width="28%">


<p>Decoding available</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>E</b></p></td>
<td width="5%"></td>
<td width="28%">


<p>Encoding available</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;codecs</b></p>

<p style="margin-left:17%;">Show available codecs.</p>

<p style="margin-left:17%; margin-top: 1em">The fields
preceding the codec names have the following meanings:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>D</b></p></td>
<td width="5%"></td>
<td width="28%">


<p>Decoding available</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>E</b></p></td>
<td width="5%"></td>
<td width="28%">


<p>Encoding available</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>V/A/S</b></p>

<p style="margin-left:23%;">Video/audio/subtitle codec</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>S</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Codec supports slices</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>D</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Codec supports direct rendering</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>T</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Codec can handle input truncated at random locations
instead of only at frame boundaries</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;bsfs</b></p>

<p style="margin-left:17%;">Show available bitstream
filters.</p>

<p style="margin-left:11%;"><b>&minus;protocols</b></p>

<p style="margin-left:17%;">Show available protocols.</p>

<p style="margin-left:11%;"><b>&minus;filters</b></p>

<p style="margin-left:17%;">Show available libavfilter
filters.</p>

<p style="margin-left:11%;"><b>&minus;pix_fmts</b></p>

<p style="margin-left:17%;">Show available pixel
formats.</p>

<p style="margin-left:11%;"><b>&minus;loglevel</b>
<i>loglevel</i></p>

<p style="margin-left:17%;">Set the logging level used by
the library. <i>loglevel</i> is a number or a string
containing one of the following values: <b><br>
quiet <br>
panic <br>
fatal <br>
error <br>
warning <br>
info <br>
verbose <br>
debug</b></p>

<p style="margin-left:17%; margin-top: 1em">By default the
program logs to stderr, if coloring is supported by the
terminal, colors are used to mark errors and warnings. Log
coloring can be disabled setting the environment variable
<b><small>FFMPEG_FORCE_NOCOLOR</small></b> or
<b><small>NO_COLOR</small></b> , or can be forced setting
the environment variable
<b><small>FFMPEG_FORCE_COLOR</small></b> . The use of the
environment variable <b><small>NO_COLOR</small></b> is
deprecated and will be dropped in a following FFmpeg
version.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Main options
<br>
&minus;f</b> <i>fmt</i></p>

<p style="margin-left:17%;">Force format.</p>

<p style="margin-left:11%;"><b>&minus;i</b>
<i>filename</i></p>

<p style="margin-left:17%;">input file name</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;y</b></p></td>
<td width="3%"></td>
<td width="35%">


<p>Overwrite output files.</p></td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;t</b>
<i>duration</i></p>

<p style="margin-left:17%;">Restrict the
transcoded/captured video sequence to the duration specified
in seconds. <tt>&quot;hh:mm:ss[.xxx]&quot;</tt> syntax is
also supported.</p>

<p style="margin-left:11%;"><b>&minus;fs</b>
<i>limit_size</i></p>

<p style="margin-left:17%;">Set the file size limit.</p>

<p style="margin-left:11%;"><b>&minus;ss</b>
<i>position</i></p>

<p style="margin-left:17%;">Seek to given time position in
seconds. <tt>&quot;hh:mm:ss[.xxx]&quot;</tt> syntax is also
supported.</p>

<p style="margin-left:11%;"><b>&minus;itsoffset</b>
<i>offset</i></p>

<p style="margin-left:17%;">Set the input time offset in
seconds. <tt>&quot;[&minus;]hh:mm:ss[.xxx]&quot;</tt> syntax
is also supported. This option affects all the input files
that follow it. The offset is added to the timestamps of the
input files. Specifying a positive offset means that the
corresponding streams are delayed by &rsquo;offset&rsquo;
seconds.</p>

<p style="margin-left:11%;"><b>&minus;timestamp</b>
<i>time</i></p>

<p style="margin-left:17%;">Set the recording timestamp in
the container. The syntax for <i>time</i> is:</p>

<pre style="margin-left:17%; margin-top: 1em">        now|([(YYYY&minus;MM&minus;DD|YYYYMMDD)[T|t| ]]((HH[:MM[:SS[.m...]]])|(HH[MM[SS[.m...]]]))[Z|z])</pre>


<p style="margin-left:17%; margin-top: 1em">If the value is
&quot;now&quot; it takes the current time. Time is local
time unless &rsquo;Z&rsquo; or &rsquo;z&rsquo; is appended,
in which case it is interpreted as <small>UTC</small> . If
the year-month-day part is not specified it takes the
current year-month-day.</p>

<p style="margin-left:11%;"><b>&minus;metadata</b>
<i>key</i><b>=</b><i>value</i></p>

<p style="margin-left:17%;">Set a metadata key/value
pair.</p>

<p style="margin-left:17%; margin-top: 1em">For example,
for setting the title in the output file:</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i in.avi &minus;metadata title=&quot;my title&quot; out.flv</pre>


<p style="margin-left:11%;"><b>&minus;v</b>
<i>number</i></p>

<p style="margin-left:17%;">Set the logging verbosity
level.</p>

<p style="margin-left:11%;"><b>&minus;target</b>
<i>type</i></p>

<p style="margin-left:17%;">Specify target file type
(&quot;vcd&quot;, &quot;svcd&quot;, &quot;dvd&quot;,
&quot;dv&quot;, &quot;dv50&quot;, &quot;pal-vcd&quot;,
&quot;ntsc-svcd&quot;, ... ). All the format options
(bitrate, codecs, buffer sizes) are then set automatically.
You can just type:</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i myfile.avi &minus;target vcd /tmp/vcd.mpg</pre>


<p style="margin-left:17%; margin-top: 1em">Nevertheless
you can specify additional options as long as you know they
do not conflict with the standard, as in:</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i myfile.avi &minus;target vcd &minus;bf 2 /tmp/vcd.mpg</pre>


<p style="margin-left:11%;"><b>&minus;dframes</b>
<i>number</i></p>

<p style="margin-left:17%;">Set the number of data frames
to record.</p>

<p style="margin-left:11%;"><b>&minus;scodec</b>
<i>codec</i></p>

<p style="margin-left:17%;">Force subtitle codec
(&rsquo;copy&rsquo; to copy stream).</p>

<p style="margin-left:11%;"><b>&minus;newsubtitle</b></p>

<p style="margin-left:17%;">Add a new subtitle stream to
the current output stream.</p>

<p style="margin-left:11%;"><b>&minus;slang</b>
<i>code</i></p>

<p style="margin-left:17%;">Set the <small>ISO</small> 639
language code (3 letters) of the current subtitle
stream.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Video
Options <br>
&minus;b</b> <i>bitrate</i></p>

<p style="margin-left:17%;">Set the video bitrate in bit/s
(default = 200 kb/s).</p>

<p style="margin-left:11%;"><b>&minus;vframes</b>
<i>number</i></p>

<p style="margin-left:17%;">Set the number of video frames
to record.</p>

<p style="margin-left:11%;"><b>&minus;r</b> <i>fps</i></p>

<p style="margin-left:17%;">Set frame rate (Hz value,
fraction or abbreviation), (default = 25).</p>

<p style="margin-left:11%;"><b>&minus;s</b> <i>size</i></p>

<p style="margin-left:17%;">Set frame size. The format is
<b>wxh</b> (ffserver default = 160x128, ffmpeg default =
same as source). The following abbreviations are recognized:
<b><br>
sqcif</b></p>

<p style="margin-left:23%;">128x96</p>

<p style="margin-left:17%;"><b>qcif</b></p>

<p style="margin-left:23%;">176x144</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>cif</b></p></td>
<td width="1%"></td>
<td width="11%">


<p>352x288</p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>4cif</b></p>

<p style="margin-left:23%;">704x576</p>

<p style="margin-left:17%;"><b>16cif</b></p>

<p style="margin-left:23%;">1408x1152</p>

<p style="margin-left:17%;"><b>qqvga</b></p>

<p style="margin-left:23%;">160x120</p>

<p style="margin-left:17%;"><b>qvga</b></p>

<p style="margin-left:23%;">320x240</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>vga</b></p></td>
<td width="1%"></td>
<td width="11%">


<p>640x480</p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>svga</b></p>

<p style="margin-left:23%;">800x600</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>xga</b></p></td>
<td width="1%"></td>
<td width="12%">


<p>1024x768</p></td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>uxga</b></p>

<p style="margin-left:23%;">1600x1200</p>

<p style="margin-left:17%;"><b>qxga</b></p>

<p style="margin-left:23%;">2048x1536</p>

<p style="margin-left:17%;"><b>sxga</b></p>

<p style="margin-left:23%;">1280x1024</p>

<p style="margin-left:17%;"><b>qsxga</b></p>

<p style="margin-left:23%;">2560x2048</p>

<p style="margin-left:17%;"><b>hsxga</b></p>

<p style="margin-left:23%;">5120x4096</p>

<p style="margin-left:17%;"><b>wvga</b></p>

<p style="margin-left:23%;">852x480</p>

<p style="margin-left:17%;"><b>wxga</b></p>

<p style="margin-left:23%;">1366x768</p>

<p style="margin-left:17%;"><b>wsxga</b></p>

<p style="margin-left:23%;">1600x1024</p>

<p style="margin-left:17%;"><b>wuxga</b></p>

<p style="margin-left:23%;">1920x1200</p>

<p style="margin-left:17%;"><b>woxga</b></p>

<p style="margin-left:23%;">2560x1600</p>

<p style="margin-left:17%;"><b>wqsxga</b></p>

<p style="margin-left:23%;">3200x2048</p>

<p style="margin-left:17%;"><b>wquxga</b></p>

<p style="margin-left:23%;">3840x2400</p>

<p style="margin-left:17%;"><b>whsxga</b></p>

<p style="margin-left:23%;">6400x4096</p>

<p style="margin-left:17%;"><b>whuxga</b></p>

<p style="margin-left:23%;">7680x4800</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>cga</b></p></td>
<td width="1%"></td>
<td width="11%">


<p>320x200</p></td>
<td width="66%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>ega</b></p></td>
<td width="1%"></td>
<td width="11%">


<p>640x350</p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>hd480</b></p>

<p style="margin-left:23%;">852x480</p>

<p style="margin-left:17%;"><b>hd720</b></p>

<p style="margin-left:23%;">1280x720</p>

<p style="margin-left:17%;"><b>hd1080</b></p>

<p style="margin-left:23%;">1920x1080</p>

<p style="margin-left:11%;"><b>&minus;aspect</b>
<i>aspect</i></p>

<p style="margin-left:17%;">Set aspect ratio (4:3, 16:9 or
1.3333, 1.7777).</p>

<p style="margin-left:11%;"><b>&minus;croptop</b>
<i>size</i> <b><br>
&minus;cropbottom</b> <i>size</i> <b><br>
&minus;cropleft</b> <i>size</i> <b><br>
&minus;cropright</b> <i>size</i></p>

<p style="margin-left:17%;">All the crop options have been
removed. Use &minus;vf crop=width:height:x:y instead.</p>

<p style="margin-left:11%;"><b>&minus;padtop</b>
<i>size</i> <b><br>
&minus;padbottom</b> <i>size</i> <b><br>
&minus;padleft</b> <i>size</i> <b><br>
&minus;padright</b> <i>size</i> <b><br>
&minus;padcolor</b> <i>hex_color</i></p>

<p style="margin-left:17%;">All the pad options have been
removed. Use &minus;vf pad=width:height:x:y:color
instead.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;vn</b></p></td>
<td width="2%"></td>
<td width="37%">


<p>Disable video recording.</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;bt</b>
<i>tolerance</i></p>

<p style="margin-left:17%;">Set video bitrate tolerance (in
bits, default 4000k). Has a minimum value of:
(target_bitrate/target_framerate). In 1&minus;pass mode,
bitrate tolerance specifies how far ratecontrol is willing
to deviate from the target average bitrate value. This is
not related to min/max bitrate. Lowering tolerance too much
has an adverse effect on quality.</p>

<p style="margin-left:11%;"><b>&minus;maxrate</b>
<i>bitrate</i></p>

<p style="margin-left:17%;">Set max video bitrate (in
bit/s). Requires &minus;bufsize to be set.</p>

<p style="margin-left:11%;"><b>&minus;minrate</b>
<i>bitrate</i></p>

<p style="margin-left:17%;">Set min video bitrate (in
bit/s). Most useful in setting up a <small>CBR</small>
encode:</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i myfile.avi &minus;b 4000k &minus;minrate 4000k &minus;maxrate 4000k &minus;bufsize 1835k out.m2v</pre>


<p style="margin-left:17%; margin-top: 1em">It is of little
use elsewise.</p>

<p style="margin-left:11%;"><b>&minus;bufsize</b>
<i>size</i></p>

<p style="margin-left:17%;">Set video buffer verifier
buffer size (in bits).</p>

<p style="margin-left:11%;"><b>&minus;vcodec</b>
<i>codec</i></p>

<p style="margin-left:17%;">Force video codec to
<i>codec</i>. Use the <tt>&quot;copy&quot;</tt> special
value to tell that the raw codec data must be copied as
is.</p>

<p style="margin-left:11%;"><b>&minus;sameq</b></p>

<p style="margin-left:17%;">Use same video quality as
source (implies <small>VBR</small> ).</p>

<p style="margin-left:11%;"><b>&minus;pass</b> <i>n</i></p>

<p style="margin-left:17%;">Select the pass number (1 or
2). It is used to do two-pass video encoding. The statistics
of the video are recorded in the first pass into a log file
(see also the option &minus;passlogfile), and in the second
pass that log file is used to generate the video at the
exact requested bitrate. On pass 1, you may just deactivate
audio and set output to null, examples for Windows and
Unix:</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i foo.mov &minus;vcodec libxvid &minus;pass 1 &minus;an &minus;f rawvideo &minus;y NUL
        ffmpeg &minus;i foo.mov &minus;vcodec libxvid &minus;pass 1 &minus;an &minus;f rawvideo &minus;y /dev/null</pre>


<p style="margin-left:11%;"><b>&minus;passlogfile</b>
<i>prefix</i></p>

<p style="margin-left:17%;">Set two-pass log file name
prefix to <i>prefix</i>, the default file name prefix is
&rsquo;&rsquo;ffmpeg2pass&rsquo;&rsquo;. The complete file
name will be <i><small>PREFIX&minus;N</small> .log</i>,
where N is a number specific to the output stream.</p>

<p style="margin-left:11%;"><b>&minus;newvideo</b></p>

<p style="margin-left:17%;">Add a new video stream to the
current output stream.</p>

<p style="margin-left:11%;"><b>&minus;vlang</b>
<i>code</i></p>

<p style="margin-left:17%;">Set the <small>ISO</small> 639
language code (3 letters) of the current video stream.</p>

<p style="margin-left:11%;"><b>&minus;vf</b>
<i>filter_graph</i></p>

<p style="margin-left:17%;"><i>filter_graph</i> is a
description of the filter graph to apply to the input video.
Use the option &quot;&minus;filters&quot; to show all the
available filters (including also sources and sinks).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Advanced
Video Options <br>
&minus;pix_fmt</b> <i>format</i></p>

<p style="margin-left:17%;">Set pixel format. Use
&rsquo;list&rsquo; as parameter to show all the supported
pixel formats.</p>

<p style="margin-left:11%;"><b>&minus;sws_flags</b>
<i>flags</i></p>

<p style="margin-left:17%;">Set SwScaler flags.</p>

<p style="margin-left:11%;"><b>&minus;g</b>
<i>gop_size</i></p>

<p style="margin-left:17%;">Set the group of pictures
size.</p>

<p style="margin-left:11%;"><b>&minus;intra</b></p>

<p style="margin-left:17%;">Use only intra frames.</p>

<p style="margin-left:11%;"><b>&minus;vdt</b> <i>n</i></p>

<p style="margin-left:17%;">Discard threshold.</p>

<p style="margin-left:11%;"><b>&minus;qscale</b>
<i>q</i></p>

<p style="margin-left:17%;">Use fixed video quantizer scale
( <small>VBR</small> ).</p>

<p style="margin-left:11%;"><b>&minus;qmin</b> <i>q</i></p>

<p style="margin-left:17%;">minimum video quantizer scale (
<small>VBR</small> )</p>

<p style="margin-left:11%;"><b>&minus;qmax</b> <i>q</i></p>

<p style="margin-left:17%;">maximum video quantizer scale (
<small>VBR</small> )</p>

<p style="margin-left:11%;"><b>&minus;qdiff</b>
<i>q</i></p>

<p style="margin-left:17%;">maximum difference between the
quantizer scales ( <small>VBR</small> )</p>

<p style="margin-left:11%;"><b>&minus;qblur</b>
<i>blur</i></p>

<p style="margin-left:17%;">video quantizer scale blur (
<small>VBR</small> ) (range 0.0 &minus; 1.0)</p>

<p style="margin-left:11%;"><b>&minus;qcomp</b>
<i>compression</i></p>

<p style="margin-left:17%;">video quantizer scale
compression ( <small>VBR</small> ) (default 0.5). Constant
of ratecontrol equation. Recommended range for default
rc_eq: 0.0&minus;1.0</p>

<p style="margin-left:11%;"><b>&minus;lmin</b>
<i>lambda</i></p>

<p style="margin-left:17%;">minimum video lagrange factor (
<small>VBR</small> )</p>

<p style="margin-left:11%;"><b>&minus;lmax</b>
<i>lambda</i></p>

<p style="margin-left:17%;">max video lagrange factor (
<small>VBR</small> )</p>

<p style="margin-left:11%;"><b>&minus;mblmin</b>
<i>lambda</i></p>

<p style="margin-left:17%;">minimum macroblock quantizer
scale ( <small>VBR</small> )</p>

<p style="margin-left:11%;"><b>&minus;mblmax</b>
<i>lambda</i></p>

<p style="margin-left:17%;">maximum macroblock quantizer
scale ( <small>VBR</small> )</p>

<p style="margin-left:17%; margin-top: 1em">These four
options (lmin, lmax, mblmin, mblmax) use
&rsquo;lambda&rsquo; units, but you may use the
<small>QP2LAMBDA</small> constant to easily convert from
&rsquo;q&rsquo; units:</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i src.ext &minus;lmax 21*QP2LAMBDA dst.ext</pre>


<p style="margin-left:11%;"><b>&minus;rc_init_cplx</b>
<i>complexity</i></p>

<p style="margin-left:17%;">initial complexity for single
pass encoding</p>

<p style="margin-left:11%;"><b>&minus;b_qfactor</b>
<i>factor</i></p>

<p style="margin-left:17%;">qp factor between P&minus; and
B&minus;frames</p>

<p style="margin-left:11%;"><b>&minus;i_qfactor</b>
<i>factor</i></p>

<p style="margin-left:17%;">qp factor between P&minus; and
I&minus;frames</p>

<p style="margin-left:11%;"><b>&minus;b_qoffset</b>
<i>offset</i></p>

<p style="margin-left:17%;">qp offset between P&minus; and
B&minus;frames</p>

<p style="margin-left:11%;"><b>&minus;i_qoffset</b>
<i>offset</i></p>

<p style="margin-left:17%;">qp offset between P&minus; and
I&minus;frames</p>

<p style="margin-left:11%;"><b>&minus;rc_eq</b>
<i>equation</i></p>

<p style="margin-left:17%;">Set rate control equation (see
section &quot;Expression Evaluation&quot;) (default =
<tt>&quot;tex^qComp&quot;</tt>).</p>

<p style="margin-left:17%; margin-top: 1em">When computing
the rate control equation expression, besides the standard
functions defined in the section &quot;Expression
Evaluation&quot;, the following functions are available:
<i><br>
bits2qp(bits) <br>
qp2bits(qp)</i></p>

<p style="margin-left:17%; margin-top: 1em">and the
following constants are available: <i><br>
iTex <br>
pTex</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>tex</i></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>mv</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>fCode <br>
iCount <br>
mcVar</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>var</i></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>isI</i></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>isP</i></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>isB</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>avgQP <br>
qComp <br>
avgIITex <br>
avgPITex <br>
avgPPTex <br>
avgBPTex <br>
avgTex</i></p>

<p style="margin-left:11%;"><b>&minus;rc_override</b>
<i>override</i></p>

<p style="margin-left:17%;">rate control override for
specific intervals</p>

<p style="margin-left:11%;"><b>&minus;me_method</b>
<i>method</i></p>

<p style="margin-left:17%;">Set motion estimation method to
<i>method</i>. Available methods are (from lowest to best
quality): <b><br>
zero</b></p>

<p style="margin-left:23%;">Try just the (0, 0) vector.</p>

<p style="margin-left:17%;"><b>phods</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>x1</b></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>hex</b></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>umh</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>epzs</b></p>

<p style="margin-left:23%;">(default method)</p>

<p style="margin-left:17%;"><b>full</b></p>

<p style="margin-left:23%;">exhaustive search (slow and
marginally better than epzs)</p>

<p style="margin-left:11%;"><b>&minus;dct_algo</b>
<i>algo</i></p>

<p style="margin-left:17%;">Set <small>DCT</small>
algorithm to <i>algo</i>. Available values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="5%"></td>
<td width="32%">


<p><small>FF_DCT_AUTO</small> (default)</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="5%"></td>
<td width="32%">


<p><small>FF_DCT_FASTINT</small></p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="5%"></td>
<td width="32%">


<p><small>FF_DCT_INT</small></p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>3</b></p></td>
<td width="5%"></td>
<td width="32%">


<p><small>FF_DCT_MMX</small></p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>4</b></p></td>
<td width="5%"></td>
<td width="32%">


<p><small>FF_DCT_MLIB</small></p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>5</b></p></td>
<td width="5%"></td>
<td width="32%">


<p><small>FF_DCT_ALTIVEC</small></p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;idct_algo</b>
<i>algo</i></p>

<p style="margin-left:17%;">Set <small>IDCT</small>
algorithm to <i>algo</i>. Available values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>0</b></p></td>
<td width="3%"></td>
<td width="34%">


<p><small>FF_IDCT_AUTO</small> (default)</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>1</b></p></td>
<td width="3%"></td>
<td width="34%">


<p><small>FF_IDCT_INT</small></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>2</b></p></td>
<td width="3%"></td>
<td width="34%">


<p><small>FF_IDCT_SIMPLE</small></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>3</b></p></td>
<td width="3%"></td>
<td width="34%">


<p><small>FF_IDCT_SIMPLEMMX</small></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>4</b></p></td>
<td width="3%"></td>
<td width="34%">


<p><small>FF_IDCT_LIBMPEG2MMX</small></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>5</b></p></td>
<td width="3%"></td>
<td width="34%">


<p><small>FF_IDCT_PS2</small></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>6</b></p></td>
<td width="3%"></td>
<td width="34%">


<p><small>FF_IDCT_MLIB</small></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>7</b></p></td>
<td width="3%"></td>
<td width="34%">


<p><small>FF_IDCT_ARM</small></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>8</b></p></td>
<td width="3%"></td>
<td width="34%">


<p><small>FF_IDCT_ALTIVEC</small></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>9</b></p></td>
<td width="3%"></td>
<td width="34%">


<p><small>FF_IDCT_SH4</small></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>10</b></p></td>
<td width="3%"></td>
<td width="34%">


<p><small>FF_IDCT_SIMPLEARM</small></p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;er</b> <i>n</i></p>

<p style="margin-left:17%;">Set error resilience to
<i>n</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="5%"></td>
<td width="35%">


<p><small>FF_ER_CAREFUL</small> (default)</p></td>
<td width="42%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="5%"></td>
<td width="35%">


<p><small>FF_ER_COMPLIANT</small></p></td>
<td width="42%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>3</b></p></td>
<td width="5%"></td>
<td width="35%">


<p><small>FF_ER_AGGRESSIVE</small></p></td>
<td width="42%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>4</b></p></td>
<td width="5%"></td>
<td width="35%">


<p><small>FF_ER_VERY_AGGRESSIVE</small></p></td>
<td width="42%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;ec</b>
<i>bit_mask</i></p>

<p style="margin-left:17%;">Set error concealment to
<i>bit_mask</i>. <i>bit_mask</i> is a bit mask of the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="5%"></td>
<td width="54%">


<p><small>FF_EC_GUESS_MVS</small> (default = enabled)</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="5%"></td>
<td width="54%">


<p><small>FF_EC_DEBLOCK</small> (default = enabled)</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;bf</b>
<i>frames</i></p>

<p style="margin-left:17%;">Use &rsquo;frames&rsquo;
B&minus;frames (supported for <small>MPEG&minus;1</small> ,
<small>MPEG&minus;2</small> and <small>MPEG&minus;4</small>
).</p>

<p style="margin-left:11%;"><b>&minus;mbd</b>
<i>mode</i></p>

<p style="margin-left:17%;">macroblock decision</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="5%"></td>
<td width="77%">


<p><small>FF_MB_DECISION_SIMPLE:</small> Use mb_cmp (cannot
change it yet in FFmpeg).</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="5%"></td>
<td width="77%">


<p><small>FF_MB_DECISION_BITS:</small> Choose the one which
needs the fewest bits.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="5%"></td>
<td width="77%">


<p><small>FF_MB_DECISION_RD:</small> rate distortion</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;4mv</b></p>

<p style="margin-left:17%;">Use four motion vector by
macroblock ( <small>MPEG&minus;4</small> only).</p>

<p style="margin-left:11%;"><b>&minus;part</b></p>

<p style="margin-left:17%;">Use data partitioning (
<small>MPEG&minus;4</small> only).</p>

<p style="margin-left:11%;"><b>&minus;bug</b>
<i>param</i></p>

<p style="margin-left:17%;">Work around encoder bugs that
are not auto-detected.</p>

<p style="margin-left:11%;"><b>&minus;strict</b>
<i>strictness</i></p>

<p style="margin-left:17%;">How strictly to follow the
standards.</p>

<p style="margin-left:11%;"><b>&minus;aic</b></p>

<p style="margin-left:17%;">Enable Advanced intra coding
(h263+).</p>

<p style="margin-left:11%;"><b>&minus;umv</b></p>

<p style="margin-left:17%;">Enable Unlimited Motion Vector
(h263+)</p>

<p style="margin-left:11%;"><b>&minus;deinterlace</b></p>

<p style="margin-left:17%;">Deinterlace pictures.</p>

<p style="margin-left:11%;"><b>&minus;ilme</b></p>

<p style="margin-left:17%;">Force interlacing support in
encoder ( <small>MPEG&minus;2</small> and
<small>MPEG&minus;4</small> only). Use this option if your
input file is interlaced and you want to keep the interlaced
format for minimum losses. The alternative is to deinterlace
the input stream with <b>&minus;deinterlace</b>, but
deinterlacing introduces losses.</p>

<p style="margin-left:11%;"><b>&minus;psnr</b></p>

<p style="margin-left:17%;">Calculate <small>PSNR</small>
of compressed frames.</p>

<p style="margin-left:11%;"><b>&minus;vstats</b></p>

<p style="margin-left:17%;">Dump video coding statistics to
<i>vstats_HHMMSS.log</i>.</p>

<p style="margin-left:11%;"><b>&minus;vstats_file</b>
<i>file</i></p>

<p style="margin-left:17%;">Dump video coding statistics to
<i>file</i>.</p>

<p style="margin-left:11%;"><b>&minus;top</b> <i>n</i></p>

<p style="margin-left:17%;">top=1/bottom=0/auto=&minus;1
field first</p>

<p style="margin-left:11%;"><b>&minus;dc</b>
<i>precision</i></p>

<p style="margin-left:17%;">Intra_dc_precision.</p>

<p style="margin-left:11%;"><b>&minus;vtag</b>
<i>fourcc/tag</i></p>

<p style="margin-left:17%;">Force video tag/fourcc.</p>

<p style="margin-left:11%;"><b>&minus;qphist</b></p>

<p style="margin-left:17%;">Show <small>QP</small>
histogram.</p>

<p style="margin-left:11%;"><b>&minus;vbsf</b>
<i>bitstream_filter</i></p>

<p style="margin-left:17%;">Bitstream filters available are
&quot;dump_extra&quot;, &quot;remove_extra&quot;,
&quot;noise&quot;, &quot;h264_mp4toannexb&quot;,
&quot;imxdump&quot;, &quot;mjpegadump&quot;,
&quot;mjpeg2jpeg&quot;.</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i h264.mp4 &minus;vcodec copy &minus;vbsf h264_mp4toannexb &minus;an out.h264</pre>


<p style="margin-left:11%;"><b>&minus;force_key_frames</b>
<i>time</i><b>[,</b><i>time</i><b>...]</b></p>

<p style="margin-left:17%;">Force key frames at the
specified timestamps, more precisely at the first frames
after each specified time. This option can be useful to
ensure that a seek point is present at a chapter mark or any
other designated place in the output file. The timestamps
must be specified in ascending order.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Audio
Options <br>
&minus;aframes</b> <i>number</i></p>

<p style="margin-left:17%;">Set the number of audio frames
to record.</p>

<p style="margin-left:11%;"><b>&minus;ar</b>
<i>freq</i></p>

<p style="margin-left:17%;">Set the audio sampling
frequency. For input streams it is set by default to 44100
Hz, for output streams it is set by default to the frequency
of the input stream. If the input file has audio streams
with different frequencies, the behaviour is undefined.</p>

<p style="margin-left:11%;"><b>&minus;ab</b>
<i>bitrate</i></p>

<p style="margin-left:17%;">Set the audio bitrate in bit/s
(default = 64k).</p>

<p style="margin-left:11%;"><b>&minus;aq</b> <i>q</i></p>

<p style="margin-left:17%;">Set the audio quality
(codec-specific, <small>VBR</small> ).</p>

<p style="margin-left:11%;"><b>&minus;ac</b>
<i>channels</i></p>

<p style="margin-left:17%;">Set the number of audio
channels. For input streams it is set by default to 1, for
output streams it is set by default to the same number of
audio channels in input. If the input file has audio streams
with different channel count, the behaviour is
undefined.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;an</b></p></td>
<td width="2%"></td>
<td width="37%">


<p>Disable audio recording.</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;acodec</b>
<i>codec</i></p>

<p style="margin-left:17%;">Force audio codec to
<i>codec</i>. Use the <tt>&quot;copy&quot;</tt> special
value to specify that the raw codec data must be copied as
is.</p>

<p style="margin-left:11%;"><b>&minus;newaudio</b></p>

<p style="margin-left:17%;">Add a new audio track to the
output file. If you want to specify parameters, do so before
<tt>&quot;&minus;newaudio&quot;</tt>
(<tt>&quot;&minus;acodec&quot;</tt>,
<tt>&quot;&minus;ab&quot;</tt>, etc..).</p>

<p style="margin-left:17%; margin-top: 1em">Mapping will be
done automatically, if the number of output streams is equal
to the number of input streams, else it will pick the first
one that matches. You can override the mapping using
<tt>&quot;&minus;map&quot;</tt> as usual.</p>

<p style="margin-left:17%; margin-top: 1em">Example:</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i file.mpg &minus;vcodec copy &minus;acodec ac3 &minus;ab 384k test.mpg &minus;acodec mp2 &minus;ab 192k &minus;newaudio</pre>


<p style="margin-left:11%;"><b>&minus;alang</b>
<i>code</i></p>

<p style="margin-left:17%;">Set the <small>ISO</small> 639
language code (3 letters) of the current audio stream.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Advanced
Audio options: <br>
&minus;atag</b> <i>fourcc/tag</i></p>

<p style="margin-left:17%;">Force audio tag/fourcc.</p>

<p style="margin-left:11%;"><b>&minus;absf</b>
<i>bitstream_filter</i></p>

<p style="margin-left:17%;">Bitstream filters available are
&quot;dump_extra&quot;, &quot;remove_extra&quot;,
&quot;noise&quot;, &quot;mp3comp&quot;,
&quot;mp3decomp&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Subtitle
options: <br>
&minus;scodec</b> <i>codec</i></p>

<p style="margin-left:17%;">Force subtitle codec
(&rsquo;copy&rsquo; to copy stream).</p>

<p style="margin-left:11%;"><b>&minus;newsubtitle</b></p>

<p style="margin-left:17%;">Add a new subtitle stream to
the current output stream.</p>

<p style="margin-left:11%;"><b>&minus;slang</b>
<i>code</i></p>

<p style="margin-left:17%;">Set the <small>ISO</small> 639
language code (3 letters) of the current subtitle
stream.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;sn</b></p></td>
<td width="2%"></td>
<td width="41%">


<p>Disable subtitle recording.</p></td>
<td width="42%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;sbsf</b>
<i>bitstream_filter</i></p>

<p style="margin-left:17%;">Bitstream filters available are
&quot;mov2textsub&quot;, &quot;text2movsub&quot;.</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i file.mov &minus;an &minus;vn &minus;sbsf mov2textsub &minus;scodec copy &minus;f rawvideo sub.txt</pre>


<p style="margin-left:11%; margin-top: 1em"><b>Audio/Video
grab options <br>
&minus;vc</b> <i>channel</i></p>

<p style="margin-left:17%;">Set video grab channel (
<small>DV1394</small> only).</p>

<p style="margin-left:11%;"><b>&minus;tvstd</b>
<i>standard</i></p>

<p style="margin-left:17%;">Set television standard (
<small>NTSC</small> , <small>PAL</small> (
<small>SECAM</small> )).</p>

<p style="margin-left:11%;"><b>&minus;isync</b></p>

<p style="margin-left:17%;">Synchronize read on input.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Advanced
options <br>
&minus;map</b>
<i>input_stream_id</i><b>[:</b><i>sync_stream_id</i><b>]</b></p>

<p style="margin-left:17%;">Set stream mapping from input
streams to output streams. Just enumerate the input streams
in the order you want them in the output.
<i>sync_stream_id</i> if specified sets the input stream to
sync against.</p>

<p style="margin-left:11%;"><b>&minus;map_meta_data</b>
<i>outfile</i><b>[,</b><i>metadata</i><b>]:</b><i>infile</i><b>[,</b><i>metadata</i><b>]</b></p>

<p style="margin-left:17%;">Deprecated, use
<i>&minus;map_metadata</i> instead.</p>

<p style="margin-left:11%;"><b>&minus;map_metadata</b>
<i>outfile</i><b>[,</b><i>metadata</i><b>]:</b><i>infile</i><b>[,</b><i>metadata</i><b>]</b></p>

<p style="margin-left:17%;">Set metadata information of
<i>outfile</i> from <i>infile</i>. Note that those are file
indices (zero-based), not filenames. Optional
<i>metadata</i> parameters specify, which metadata to copy
&minus; (g)lobal (i.e. metadata that applies to the whole
file), per&minus;(s)tream, per&minus;(c)hapter or
per&minus;(p)rogram. All metadata specifiers other than
global must be followed by the stream/chapter/program
number. If metadata specifier is omitted, it defaults to
global.</p>

<p style="margin-left:17%; margin-top: 1em">By default,
global metadata is copied from the first input file to all
output files, per-stream and per-chapter metadata is copied
along with streams/chapters. These default mappings are
disabled by creating any mapping of the relevant type. A
negative file index can be used to create a dummy mapping
that just disables automatic copying.</p>

<p style="margin-left:17%; margin-top: 1em">For example to
copy metadata from the first stream of the input file to
global metadata of the output file:</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i in.ogg &minus;map_metadata 0:0,s0 out.mp3</pre>


<p style="margin-left:11%;"><b>&minus;map_chapters</b>
<i>outfile</i><b>:</b><i>infile</i></p>

<p style="margin-left:17%;">Copy chapters from
<i>infile</i> to <i>outfile</i>. If no chapter mapping is
specified, then chapters are copied from the first input
file with at least one chapter to all output files. Use a
negative file index to disable any chapter copying.</p>

<p style="margin-left:11%;"><b>&minus;debug</b></p>

<p style="margin-left:17%;">Print specific debug info.</p>

<p style="margin-left:11%;"><b>&minus;benchmark</b></p>

<p style="margin-left:17%;">Show benchmarking information
at the end of an encode. Shows <small>CPU</small> time used
and maximum memory consumption. Maximum memory consumption
is not supported on all systems, it will usually display as
0 if not supported.</p>

<p style="margin-left:11%;"><b>&minus;dump</b></p>

<p style="margin-left:17%;">Dump each input packet.</p>

<p style="margin-left:11%;"><b>&minus;hex</b></p>

<p style="margin-left:17%;">When dumping packets, also dump
the payload.</p>

<p style="margin-left:11%;"><b>&minus;bitexact</b></p>

<p style="margin-left:17%;">Only use bit exact algorithms
(for codec testing).</p>

<p style="margin-left:11%;"><b>&minus;ps</b>
<i>size</i></p>

<p style="margin-left:17%;">Set <small>RTP</small> payload
size in bytes.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>&minus;re</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Read input at native frame rate. Mainly used to simulate
a grab device.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;loop_input</b></p>

<p style="margin-left:17%;">Loop over the input stream.
Currently it works only for image streams. This option is
used for automatic FFserver testing.</p>

<p style="margin-left:11%;"><b>&minus;loop_output</b>
<i>number_of_times</i></p>

<p style="margin-left:17%;">Repeatedly loop output for
formats that support looping such as animated
<small>GIF</small> (0 will loop the output infinitely).</p>

<p style="margin-left:11%;"><b>&minus;threads</b>
<i>count</i></p>

<p style="margin-left:17%;">Thread count.</p>

<p style="margin-left:11%;"><b>&minus;vsync</b>
<i>parameter</i></p>

<p style="margin-left:17%;">Video sync method.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>0</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Each frame is passed with its timestamp from the demuxer
to the muxer.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>1</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Frames will be duplicated and dropped to achieve exactly
the requested constant framerate.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>2</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Frames are passed through with their timestamp or
dropped so as to prevent 2 frames from having the same
timestamp.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>&minus;1</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Chooses between 1 and 2 depending on muxer capabilities.
This is the default method.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">With &minus;map
you can select from which stream the timestamps should be
taken. You can leave either video or audio unchanged and
sync the remaining stream(s) to the unchanged one.</p>

<p style="margin-left:11%;"><b>&minus;async</b>
<i>samples_per_second</i></p>

<p style="margin-left:17%;">Audio sync method.
&quot;Stretches/squeezes&quot; the audio stream to match the
timestamps, the parameter is the maximum samples per second
by which the audio is changed. &minus;async 1 is a special
case where only the start of the audio stream is corrected
without any later correction.</p>

<p style="margin-left:11%;"><b>&minus;copyts</b></p>

<p style="margin-left:17%;">Copy timestamps from input to
output.</p>

<p style="margin-left:11%;"><b>&minus;copytb</b></p>

<p style="margin-left:17%;">Copy input stream time base
from input to output when stream copying.</p>

<p style="margin-left:11%;"><b>&minus;shortest</b></p>

<p style="margin-left:17%;">Finish encoding when the
shortest input stream ends.</p>


<p style="margin-left:11%;"><b>&minus;dts_delta_threshold</b></p>

<p style="margin-left:17%;">Timestamp discontinuity delta
threshold.</p>

<p style="margin-left:11%;"><b>&minus;muxdelay</b>
<i>seconds</i></p>

<p style="margin-left:17%;">Set the maximum demux-decode
delay.</p>

<p style="margin-left:11%;"><b>&minus;muxpreload</b>
<i>seconds</i></p>

<p style="margin-left:17%;">Set the initial demux-decode
delay.</p>

<p style="margin-left:11%;"><b>&minus;streamid</b>
<i>output-stream-index</i><b>:</b><i>new-value</i></p>

<p style="margin-left:17%;">Assign a new stream-id value to
an output stream. This option should be specified prior to
the output filename to which it applies. For the situation
where multiple output files exist, a streamid may be
reassigned to a different value.</p>

<p style="margin-left:17%; margin-top: 1em">For example, to
set the stream 0 <small>PID</small> to 33 and the stream 1
<small>PID</small> to 36 for an output mpegts file:</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i infile &minus;streamid 0:33 &minus;streamid 1:36 out.ts</pre>


<p style="margin-left:11%; margin-top: 1em"><b>Preset
files</b> <br>
A preset file contains a sequence of
<i>option</i>=<i>value</i> pairs, one for each line,
specifying a sequence of options which would be awkward to
specify on the command line. Lines starting with the hash
(&rsquo;#&rsquo;) character are ignored and are used to
provide comments. Check the <i>ffpresets</i> directory in
the FFmpeg source tree for examples.</p>

<p style="margin-left:11%; margin-top: 1em">Preset files
are specified with the <tt>&quot;vpre&quot;</tt>,
<tt>&quot;apre&quot;</tt>, <tt>&quot;spre&quot;</tt>, and
<tt>&quot;fpre&quot;</tt> options. The
<tt>&quot;fpre&quot;</tt> option takes the filename of the
preset instead of a preset name as input and can be used for
any kind of codec. For the <tt>&quot;vpre&quot;</tt>,
<tt>&quot;apre&quot;</tt>, and <tt>&quot;spre&quot;</tt>
options, the options specified in a preset file are applied
to the currently selected codec of the same type as the
preset option.</p>

<p style="margin-left:11%; margin-top: 1em">The argument
passed to the <tt>&quot;vpre&quot;</tt>,
<tt>&quot;apre&quot;</tt>, and <tt>&quot;spre&quot;</tt>
preset options identifies the preset file to use according
to the following rules:</p>

<p style="margin-left:11%; margin-top: 1em">First ffmpeg
searches for a file named <i>arg</i>.ffpreset in the
directories <i>$FFMPEG_DATADIR</i> (if set), and
<i>$HOME/.ffmpeg</i>, and in the datadir defined at
configuration time (usually <i>PREFIX/share/ffmpeg</i>) in
that order. For example, if the argument is
<tt>&quot;libx264&minus;max&quot;</tt>, it will search for
the file <i>libx264&minus;max.ffpreset</i>.</p>

<p style="margin-left:11%; margin-top: 1em">If no such file
is found, then ffmpeg will search for a file named
<i>codec_name</i>&minus;<i>arg</i>.ffpreset in the
above-mentioned directories, where <i>codec_name</i> is the
name of the codec to which the preset file options will be
applied. For example, if you select the video codec with
<tt>&quot;&minus;vcodec libx264&quot;</tt> and use
<tt>&quot;&minus;vpre max&quot;</tt>, then it will search
for the file <i>libx264&minus;max.ffpreset</i>.</p>

<h2>TIPS
<a name="TIPS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">For streaming at very low
bitrate application, use a low frame rate and a small
<small>GOP</small> size. This is especially true for
RealVideo where the Linux player does not seem to be very
fast, so it can miss frames. An example is:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;g 3 &minus;r 3 &minus;t 10 &minus;b 50k &minus;s qcif &minus;f rv10 /tmp/b.rm</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The parameter &rsquo;q&rsquo;
which is displayed while encoding is the current quantizer.
The value 1 indicates that a very good quality could be
achieved. The value 31 indicates the worst quality. If q=31
appears too often, it means that the encoder cannot compress
enough to meet your bitrate. You must either increase the
bitrate, decrease the frame rate or decrease the frame
size.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If your computer is not fast enough, you can speed up
the compression at the expense of the compression ratio. You
can use &rsquo;&minus;me zero&rsquo; to speed up motion
estimation, and &rsquo;&minus;intra&rsquo; to disable motion
estimation completely (you have only I&minus;frames, which
means it is about as good as <small>JPEG</small>
compression).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>To have very low audio bitrates, reduce the sampling
frequency (down to 22050 Hz for <small>MPEG</small> audio,
22050 or 11025 for <small>AC&minus;3</small> ).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>To have a constant quality (but a variable bitrate), use
the option &rsquo;&minus;qscale n&rsquo; when
&rsquo;n&rsquo; is between 1 (excellent quality) and 31
(worst quality).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>When converting video files, you can use the
&rsquo;&minus;sameq&rsquo; option which uses the same
quality factor in the encoder as in the decoder. It allows
almost lossless encoding.</p></td></tr>
</table>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Video and
Audio grabbing</b> <br>
FFmpeg can grab video and audio from devices given that you
specify the input format and device.</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;f oss &minus;i /dev/dsp &minus;f video4linux2 &minus;i /dev/video0 /tmp/out.mpg</pre>


<p style="margin-left:11%; margin-top: 1em">Note that you
must activate the right video source and channel before
launching FFmpeg with any <small>TV</small> viewer such as
xawtv (&lt;<b>http://linux.bytesex.org/xawtv/</b>&gt;) by
Gerd Knorr. You also have to set the audio recording levels
correctly with a standard mixer.</p>

<p style="margin-left:11%; margin-top: 1em"><b>X11
grabbing</b> <br>
FFmpeg can grab the X11 display.</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;f x11grab &minus;s cif &minus;r 25 &minus;i :0.0 /tmp/out.mpg</pre>


<p style="margin-left:11%; margin-top: 1em">0.0 is
display.screen number of your X11 server, same as the
<small>DISPLAY</small> environment variable.</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;f x11grab &minus;s cif &minus;r 25 &minus;i :0.0+10,20 /tmp/out.mpg</pre>


<p style="margin-left:11%; margin-top: 1em">0.0 is
display.screen number of your X11 server, same as the
<small>DISPLAY</small> environment variable. 10 is the
x&minus;offset and 20 the y&minus;offset for the
grabbing.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Video and
Audio file format conversion</b> <br>
FFmpeg can use any supported file format and protocol as
input:</p>

<p style="margin-left:11%; margin-top: 1em">Examples:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="48%">


<p style="margin-top: 1em">You can use <small>YUV</small>
files as input:</p></td>
<td width="35%">
</td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i /tmp/test%d.Y /tmp/out.mpg</pre>


<p style="margin-left:17%; margin-top: 1em">It will use the
files:</p>

<pre style="margin-left:17%; margin-top: 1em">        /tmp/test0.Y, /tmp/test0.U, /tmp/test0.V,
        /tmp/test1.Y, /tmp/test1.U, /tmp/test1.V, etc...</pre>


<p style="margin-left:17%; margin-top: 1em">The Y files use
twice the resolution of the U and V files. They are raw
files, without header. They can be generated by all decent
video decoders. You must specify the size of the image with
the <b>&minus;s</b> option if FFmpeg cannot guess it.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">You can input from a raw
<small>YUV420P</small> file:</p></td>
<td width="25%">
</td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i /tmp/test.yuv /tmp/out.avi</pre>


<p style="margin-left:17%; margin-top: 1em">test.yuv is a
file containing raw <small>YUV</small> planar data. Each
frame is composed of the Y plane followed by the U and V
planes at half vertical and horizontal resolution.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">You can output to a raw
<small>YUV420P</small> file:</p></td>
<td width="26%">
</td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i mydivx.avi hugefile.yuv</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p style="margin-top: 1em">You can set several input files
and output files:</p></td>
<td width="8%">
</td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i /tmp/a.wav &minus;s 640x480 &minus;i /tmp/a.yuv /tmp/a.mpg</pre>


<p style="margin-left:17%; margin-top: 1em">Converts the
audio file a.wav and the raw <small>YUV</small> video file
a.yuv to <small>MPEG</small> file a.mpg.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">You can also do audio and video
conversions at the same time:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i /tmp/a.wav &minus;ar 22050 /tmp/a.mp2</pre>


<p style="margin-left:17%; margin-top: 1em">Converts a.wav
to <small>MPEG</small> audio at 22050 Hz sample rate.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">You can encode to several
formats at the same time and define a mapping from input
stream to output streams:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i /tmp/a.wav &minus;ab 64k /tmp/a.mp2 &minus;ab 128k /tmp/b.mp2 &minus;map 0:0 &minus;map 0:0</pre>


<p style="margin-left:17%; margin-top: 1em">Converts a.wav
to a.mp2 at 64 kbits and to b.mp2 at 128 kbits.
&rsquo;&minus;map file:index&rsquo; specifies which input
stream is used for each output stream, in the order of the
definition of output streams.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p style="margin-top: 1em">You can transcode decrypted
VOBs:</p> </td>
<td width="32%">
</td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i snatch_1.vob &minus;f avi &minus;vcodec mpeg4 &minus;b 800k &minus;g 300 &minus;bf 2 &minus;acodec libmp3lame &minus;ab 128k snatch.avi</pre>


<p style="margin-left:17%; margin-top: 1em">This is a
typical <small>DVD</small> ripping example; the input is a
<small>VOB</small> file, the output an <small>AVI</small>
file with <small>MPEG&minus;4</small> video and
<small>MP3</small> audio. Note that in this command we use
B&minus;frames so the <small>MPEG&minus;4</small> stream is
DivX5 compatible, and <small>GOP</small> size is 300 which
means one intra frame every 10 seconds for 29.97fps input
video. Furthermore, the audio stream is MP3&minus;encoded so
you need to enable <small>LAME</small> support by passing
<tt>&quot;&minus;&minus;enable&minus;libmp3lame&quot;</tt>
to configure. The mapping is particularly useful for
<small>DVD</small> transcoding to get the desired audio
language.</p>


<p style="margin-left:17%; margin-top: 1em"><small>NOTE:</small>
To see the supported input formats, use <tt>&quot;ffmpeg
&minus;formats&quot;</tt>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">You can extract images from a
video, or create a video from many images:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">For extracting
images from a video:</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i foo.avi &minus;r 1 &minus;s WxH &minus;f image2 foo&minus;%03d.jpeg</pre>


<p style="margin-left:17%; margin-top: 1em">This will
extract one video frame per second from the video and will
output them in files named <i>foo&minus;001.jpeg</i>,
<i>foo&minus;002.jpeg</i>, etc. Images will be rescaled to
fit the new WxH values.</p>

<p style="margin-left:17%; margin-top: 1em">If you want to
extract just a limited number of frames, you can use the
above command in combination with the &minus;vframes or
&minus;t option, or in combination with &minus;ss to start
extracting from a certain point in time.</p>

<p style="margin-left:17%; margin-top: 1em">For creating a
video from many images:</p>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;f image2 &minus;i foo&minus;%03d.jpeg &minus;r 12 &minus;s WxH foo.avi</pre>


<p style="margin-left:17%; margin-top: 1em">The syntax
<tt>&quot;foo&minus;%03d.jpeg&quot;</tt> specifies to use a
decimal number composed of three digits padded with zeroes
to express the sequence number. It is the same syntax
supported by the C printf function, but only formats
accepting a normal integer are suitable.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">You can put many streams of the
same type in the output:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        ffmpeg &minus;i test1.avi &minus;i test2.avi &minus;vcodec copy &minus;acodec copy &minus;vcodec copy &minus;acodec copy test12.avi &minus;newvideo &minus;newaudio</pre>


<p style="margin-left:17%; margin-top: 1em">In addition to
the first video and audio streams, the resulting output file
<i>test12.avi</i> will contain the second video and the
second audio stream found in the input streams list.</p>

<p style="margin-left:17%; margin-top: 1em">The
<tt>&quot;&minus;newvideo&quot;</tt>,
<tt>&quot;&minus;newaudio&quot;</tt> and
<tt>&quot;&minus;newsubtitle&quot;</tt> options have to be
specified immediately after the name of the output file to
which you want to add them.</p>

<h2>EXPRESSION EVALUATION
<a name="EXPRESSION EVALUATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When evaluating
an arithemetic expression, FFmpeg uses an internal formula
evaluator, implemented through the <i>libavutil/eval.h</i>
interface.</p>

<p style="margin-left:11%; margin-top: 1em">An expression
may contain unary, binary operators, constants, and
functions.</p>

<p style="margin-left:11%; margin-top: 1em">Two expressions
<i>expr1</i> and <i>expr2</i> can be combined to form
another expression &quot;<i>expr1</i>;<i>expr2</i>&quot;.
<i>expr1</i> and <i>expr2</i> are evaluated in turn, and the
new expression evaluates to the value of <i>expr2</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The following
binary operators are available: <tt>&quot;+&quot;</tt>,
<tt>&quot;&minus;&quot;</tt>, <tt>&quot;*&quot;</tt>,
<tt>&quot;/&quot;</tt>, <tt>&quot;^&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">The following
unary operators are available: <tt>&quot;+&quot;</tt>,
<tt>&quot;&minus;&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">The following
functions are available: <b><br>
sinh(x) <br>
cosh(x) <br>
tanh(x) <br>
sin(x) <br>
cos(x) <br>
tan(x) <br>
atan(x) <br>
asin(x) <br>
acos(x) <br>
exp(x) <br>
log(x) <br>
abs(x) <br>
squish(x) <br>
gauss(x) <br>
isnan(x)</b></p>

<p style="margin-left:17%;">Return 1.0 if <i>x</i> is
<small>NAN</small> , 0.0 otherwise.</p>

<p style="margin-left:11%;"><b>mod(x, y) <br>
max(x, y) <br>
min(x, y) <br>
eq(x, y) <br>
gte(x, y) <br>
gt(x, y) <br>
lte(x, y) <br>
lt(x, y) <br>
st(var, expr)</b></p>

<p style="margin-left:17%;">Allow to store the value of the
expression <i>expr</i> in an internal variable. <i>var</i>
specifies the number of the variable where to store the
value, and it is a value ranging from 0 to 9. The function
returns the value stored in the internal variable.</p>

<p style="margin-left:11%;"><b>ld(var)</b></p>

<p style="margin-left:17%;">Allow to load the value of the
internal variable with number <i>var</i>, which was
previosly stored with st(<i>var</i>, <i>expr</i>). The
function returns the loaded value.</p>

<p style="margin-left:11%;"><b>while(cond, expr)</b></p>

<p style="margin-left:17%;">Evaluate expression <i>expr</i>
while the expression <i>cond</i> is non-zero, and returns
the value of the last <i>expr</i> evaluation, or
<small>NAN</small> if <i>cond</i> was always false.</p>

<p style="margin-left:11%; margin-top: 1em">Note that:</p>


<p style="margin-left:11%; margin-top: 1em"><tt>&quot;*&quot;</tt>
works like <small>AND</small></p>


<p style="margin-left:11%; margin-top: 1em"><tt>&quot;+&quot;</tt>
works like <small>OR</small></p>

<p style="margin-left:11%; margin-top: 1em">thus</p>

<pre style="margin-left:11%; margin-top: 1em">        if A then B else C</pre>


<p style="margin-left:11%; margin-top: 1em">is equivalent
to</p>

<pre style="margin-left:11%; margin-top: 1em">        A*B + not(A)*C</pre>


<p style="margin-left:11%; margin-top: 1em">When A
evaluates to either 1 or 0, that is the same as</p>

<pre style="margin-left:11%; margin-top: 1em">        A*B + eq(A,0)*C</pre>


<p style="margin-left:11%; margin-top: 1em">In your C code,
you can extend the list of unary and binary functions, and
define recognized constants, so that they are available for
your expressions.</p>

<p style="margin-left:11%; margin-top: 1em">The evaluator
also recognizes the International System number postfixes.
If &rsquo;i&rsquo; is appended after the postfix, powers of
2 are used instead of powers of 10. The &rsquo;B&rsquo;
postfix multiplies the value for 8, and can be appended
after another postfix or used alone. This allows using for
example &rsquo; <small>KB</small> &rsquo;,
&rsquo;MiB&rsquo;, &rsquo;G&rsquo; and &rsquo;B&rsquo; as
postfix.</p>

<p style="margin-left:11%; margin-top: 1em">Follows the
list of available International System postfixes, with
indication of the corresponding powers of 10 and of 2.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>&minus;24 / &minus;80</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>z</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>&minus;21 / &minus;70</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>a</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>&minus;18 / &minus;60</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>f</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>&minus;15 / &minus;50</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>p</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>&minus;12 / &minus;40</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>&minus;9 / &minus;30</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>u</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>&minus;6 / &minus;20</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>m</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>&minus;3 / &minus;10</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>c</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>&minus;2</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>d</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>&minus;1</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>2</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>3 / 10</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>K</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>3 / 10</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>M</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>6 / 20</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>G</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>9 / 30</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>T</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>12 / 40</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>P</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>15 / 40</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>E</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>18 / 50</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>Z</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>21 / 60</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>Y</b></p></td>
<td width="5%"></td>
<td width="14%">


<p>24 / 70</p></td>
<td width="69%">
</td></tr>
</table>

<h2>DEMUXERS
<a name="DEMUXERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Demuxers are
configured elements in FFmpeg which allow to read the
multimedia streams from a particular type of file.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported demuxers are
enabled by default. You can list all available ones using
the configure option
&quot;&minus;&minus;list&minus;demuxers&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the demuxers using the configure option
&quot;&minus;&minus;disable&minus;demuxers&quot;, and
selectively enable a single demuxer with the option
&quot;&minus;&minus;enable&minus;demuxer=
<i><small>DEMUXER</small></i> &quot;, or disable it with the
option &quot;&minus;&minus;disable&minus;demuxer=
<i><small>DEMUXER</small></i> &quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;&minus;formats&quot; of the ff* tools will display the
list of enabled demuxers.</p>

<p style="margin-left:11%; margin-top: 1em">The description
of some of the currently available demuxers follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>image2</b>
<br>
Image file demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
reads from a list of image files specified by a pattern.</p>

<p style="margin-left:11%; margin-top: 1em">The pattern may
contain the string &quot;%d&quot; or
&quot;%0<i>N</i>d&quot;, which specifies the position of the
characters representing a sequential number in each filename
matched by the pattern. If the form &quot;%d0<i>N</i>d&quot;
is used, the string representing the number in each filename
is 0&minus;padded and <i>N</i> is the total number of
0&minus;padded digits representing the number. The literal
character &rsquo;%&rsquo; can be specified in the pattern
with the string &quot;%%&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">If the pattern
contains &quot;%d&quot; or &quot;%0<i>N</i>d&quot;, the
first filename of the file list specified by the pattern
must contain a number inclusively contained between 0 and 4,
all the following numbers must be sequential. This
limitation may be hopefully fixed.</p>

<p style="margin-left:11%; margin-top: 1em">The pattern may
contain a suffix which is used to automatically determine
the format of the images contained in the files.</p>

<p style="margin-left:11%; margin-top: 1em">For example the
pattern &quot;img&minus;%03d.bmp&quot; will match a sequence
of filenames of the form <i>img&minus;001.bmp</i>,
<i>img&minus;002.bmp</i>, ..., <i>img&minus;010.bmp</i>,
etc.; the pattern &quot;i%%m%%g&minus;%d.jpg&quot; will
match a sequence of filenames of the form
<i>i%m%g&minus;1.jpg</i>, <i>i%m%g&minus;2.jpg</i>, ...,
<i>i%m%g&minus;10.jpg</i>, etc.</p>

<p style="margin-left:11%; margin-top: 1em">The size, the
pixel format, and the format of each image must be the same
for all the files in the sequence.</p>

<p style="margin-left:11%; margin-top: 1em">The following
example shows how to use <i>ffmpeg</i> for creating a video
from the images in the file sequence
<i>img&minus;001.jpeg</i>, <i>img&minus;002.jpeg</i>, ...,
assuming an input framerate of 10 frames per second:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;r 10 &minus;f image2 &minus;i 'img&minus;%03d.jpeg' out.avi</pre>


<p style="margin-left:11%; margin-top: 1em">Note that the
pattern must not necessarily contain &quot;%d&quot; or
&quot;%0<i>N</i>d&quot;, for example to convert a single
image file <i>img.jpeg</i> you can employ the command:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;f image2 &minus;i img.jpeg img.png</pre>


<h2>MUXERS
<a name="MUXERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Muxers are
configured elements in FFmpeg which allow writing multimedia
streams to a particular type of file.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported muxers are
enabled by default. You can list all available muxers using
the configure option
<tt>&quot;&minus;&minus;list&minus;muxers&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the muxers with the configure option
<tt>&quot;&minus;&minus;disable&minus;muxers&quot;</tt> and
selectively enable / disable single muxers with the options
<tt>&quot;&minus;&minus;enable&minus;muxer=</tt><i>MUXER</i><tt>&quot;</tt>
/
<tt>&quot;&minus;&minus;disable&minus;muxer=</tt><i>MUXER</i><tt>&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">The option
<tt>&quot;&minus;formats&quot;</tt> of the ff* tools will
display the list of enabled muxers.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of some of the currently available muxers follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>image2</b>
<br>
Image file muxer.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
writes video frames to multiple image files specified by a
pattern.</p>

<p style="margin-left:11%; margin-top: 1em">The pattern may
contain the string &quot;%d&quot; or
&quot;%0<i>N</i>d&quot;, which specifies the position of the
characters representing a numbering in the filenames. If the
form &quot;%d0<i>N</i>d&quot; is used, the string
representing the number in each filename is 0&minus;padded
to <i>N</i> digits. The literal character &rsquo;%&rsquo;
can be specified in the pattern with the string
&quot;%%&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">If the pattern
contains &quot;%d&quot; or &quot;%0<i>N</i>d&quot;, the
first filename of the file list specified will contain the
number 1, all the following numbers will be sequential.</p>

<p style="margin-left:11%; margin-top: 1em">The pattern may
contain a suffix which is used to automatically determine
the format of the image files to write.</p>

<p style="margin-left:11%; margin-top: 1em">For example the
pattern &quot;img&minus;%03d.bmp&quot; will specify a
sequence of filenames of the form <i>img&minus;001.bmp</i>,
<i>img&minus;002.bmp</i>, ..., <i>img&minus;010.bmp</i>,
etc. The pattern &quot;img%%&minus;%d.jpg&quot; will specify
a sequence of filenames of the form <i>img%&minus;1.jpg</i>,
<i>img%&minus;2.jpg</i>, ..., <i>img%&minus;10.jpg</i>,
etc.</p>

<p style="margin-left:11%; margin-top: 1em">The following
example shows how to use <i>ffmpeg</i> for creating a
sequence of files <i>img&minus;001.jpeg</i>,
<i>img&minus;002.jpeg</i>, ..., taking one image every
second from the input video:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i in.avi &minus;r 1 &minus;f image2 'img&minus;%03d.jpeg'</pre>


<p style="margin-left:11%; margin-top: 1em">Note that with
<i>ffmpeg</i>, if the format is not specified with the
<tt>&quot;&minus;f&quot;</tt> option and the output filename
specifies an image file format, the image2 muxer is
automatically selected, so the previous command can be
written as:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i in.avi &minus;r 1 'img&minus;%03d.jpeg'</pre>


<p style="margin-left:11%; margin-top: 1em">Note also that
the pattern must not necessarily contain &quot;%d&quot; or
&quot;%0<i>N</i>d&quot;, for example to create a single
image file <i>img.jpeg</i> from the input video you can
employ the command:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i in.avi &minus;f image2 &minus;vframes 1 img.jpeg</pre>


<p style="margin-left:11%; margin-top: 1em"><b>mpegts</b>
<small><br>
MPEG</small> transport stream muxer.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
implements <small>ISO</small> 13818&minus;1 and part of
<small>ETSI EN</small> 300 468.</p>

<p style="margin-left:11%; margin-top: 1em">The muxer
options are: <b><br>
&minus;mpegts_original_network_id</b> <i>number</i></p>

<p style="margin-left:17%;">Set the original_network_id
(default 0x0001). This is unique identifier of a network in
<small>DVB</small> . Its main use is in the unique
identification of a service through the path
Original_Network_ID, Transport_Stream_ID.</p>


<p style="margin-left:11%;"><b>&minus;mpegts_transport_stream_id</b>
<i>number</i></p>

<p style="margin-left:17%;">Set the transport_stream_id
(default 0x0001). This identifies a transponder in
<small>DVB</small> .</p>


<p style="margin-left:11%;"><b>&minus;mpegts_service_id</b>
<i>number</i></p>

<p style="margin-left:17%;">Set the service_id (default
0x0001) also known as program in <small>DVB</small> .</p>


<p style="margin-left:11%;"><b>&minus;mpegts_pmt_start_pid</b>
<i>number</i></p>

<p style="margin-left:17%;">Set the first
<small>PID</small> for <small>PMT</small> (default 0x1000,
max 0x1f00).</p>

<p style="margin-left:11%;"><b>&minus;mpegts_start_pid</b>
<i>number</i></p>

<p style="margin-left:17%;">Set the first
<small>PID</small> for data packets (default 0x0100, max
0x0f00).</p>

<p style="margin-left:11%; margin-top: 1em">The recognized
metadata settings in mpegts muxer are
<tt>&quot;service_provider&quot;</tt> and
<tt>&quot;service_name&quot;</tt>. If they are not set the
default for <tt>&quot;service_provider&quot;</tt> is
&quot;FFmpeg&quot; and the default for
<tt>&quot;service_name&quot;</tt> is
&quot;Service01&quot;.</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i file.mpg &minus;acodec copy &minus;vcodec copy \
             &minus;mpegts_original_network_id 0x1122 \
             &minus;mpegts_transport_stream_id 0x3344 \
             &minus;mpegts_service_id 0x5566 \
             &minus;mpegts_pmt_start_pid 0x1500 \
             &minus;mpegts_start_pid 0x150 \
             &minus;metadata service_provider=&quot;Some provider&quot; \
             &minus;metadata service_name=&quot;Some Channel&quot; \
             &minus;y out.ts</pre>


<h2>INPUT DEVICES
<a name="INPUT DEVICES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Input devices
are configured elements in FFmpeg which allow to access the
data coming from a multimedia device attached to your
system.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported input devices
are enabled by default. You can list all available ones
using the configure option
&quot;&minus;&minus;list&minus;indevs&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the input devices using the configure option
&quot;&minus;&minus;disable&minus;indevs&quot;, and
selectively enable an input device using the option
&quot;&minus;&minus;enable&minus;indev=
<i><small>INDEV</small></i> &quot;, or you can disable a
particular input device using the option
&quot;&minus;&minus;disable&minus;indev=
<i><small>INDEV</small></i> &quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;&minus;formats&quot; of the ff* tools will display the
list of supported input devices (amongst the demuxers).</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the currently available input devices follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>alsa</b>
<small><br>
ALSA</small> (Advanced Linux Sound Architecture) input
device.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
input device during configuration you need libasound
installed on your system.</p>

<p style="margin-left:11%; margin-top: 1em">This device
allows capturing from an <small>ALSA</small> device. The
name of the device to capture has to be an
<small>ALSA</small> card identifier.</p>

<p style="margin-left:11%; margin-top: 1em">An
<small>ALSA</small> identifier has the syntax:</p>

<pre style="margin-left:11%; margin-top: 1em">        hw:&lt;CARD&gt;[,&lt;DEV&gt;[,&lt;SUBDEV&gt;]]</pre>


<p style="margin-left:11%; margin-top: 1em">where the
<i><small>DEV</small></i> and <i><small>SUBDEV</small></i>
components are optional.</p>

<p style="margin-left:11%; margin-top: 1em">The three
arguments (in order: <i><small>CARD</small></i> ,
<i><small>DEV</small></i> , <i><small>SUBDEV</small></i> )
specify card number or identifier, device number and
subdevice number (&minus;1 means any).</p>

<p style="margin-left:11%; margin-top: 1em">To see the list
of cards currently recognized by your system check the files
<i>/proc/asound/cards</i> and
<i>/proc/asound/devices</i>.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
capture with <i>ffmpeg</i> from an <small>ALSA</small>
device with card id 0, you may run the command:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;f alsa &minus;i hw:0 alsaout.wav</pre>


<p style="margin-left:11%; margin-top: 1em">For more
information see:
&lt;<b>http://www.alsa&minus;project.org/alsa&minus;doc/alsa&minus;lib/pcm.html</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>bktr</b>
<small><br>
BSD</small> video input device.</p>

<p style="margin-left:11%; margin-top: 1em"><b>dv1394</b>
<br>
Linux <small>DV</small> 1394 input device.</p>

<p style="margin-left:11%; margin-top: 1em"><b>jack</b>
<small><br>
JACK</small> input device.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
input device during configuration you need libjack installed
on your system.</p>

<p style="margin-left:11%; margin-top: 1em">A
<small>JACK</small> input device creates one or more
<small>JACK</small> writable clients, one for each audio
channel, with name <i>client_name</i>:input_<i>N</i>, where
<i>client_name</i> is the name provided by the application,
and <i>N</i> is a number which identifies the channel. Each
writable client will send the acquired data to the FFmpeg
input device.</p>

<p style="margin-left:11%; margin-top: 1em">Once you have
created one or more <small>JACK</small> readable clients,
you need to connect them to one or more <small>JACK</small>
writable clients.</p>

<p style="margin-left:11%; margin-top: 1em">To connect or
disconnect <small>JACK</small> clients you can use the
<i>jack_connect</i> and <i>jack_disconnect</i> programs, or
do it through a graphical interface, for example with
<i>qjackctl</i>.</p>

<p style="margin-left:11%; margin-top: 1em">To list the
<small>JACK</small> clients and their properties you can
invoke the command <i>jack_lsp</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Follows an
example which shows how to capture a <small>JACK</small>
readable client with <i>ffmpeg</i>.</p>

<pre style="margin-left:11%; margin-top: 1em">        # Create a JACK writable client with name &quot;ffmpeg&quot;.
        $ ffmpeg &minus;f jack &minus;i ffmpeg &minus;y out.wav
        # Start the sample jack_metro readable client.
        $ jack_metro &minus;b 120 &minus;d 0.2 &minus;f 4000
        # List the current JACK clients.
        $ jack_lsp &minus;c
        system:capture_1
        system:capture_2
        system:playback_1
        system:playback_2
        ffmpeg:input_1
        metro:120_bpm
        # Connect metro to the ffmpeg writable client.
        $ jack_connect metro:120_bpm ffmpeg:input_1</pre>


<p style="margin-left:11%; margin-top: 1em">For more
information read: &lt;<b>http://jackaudio.org/</b>&gt;</p>


<p style="margin-left:11%; margin-top: 1em"><b>libdc1394</b>
<small><br>
IIDC1394</small> input device, based on libdc1394 and
libraw1394.</p>

<p style="margin-left:11%; margin-top: 1em"><b>oss</b> <br>
Open Sound System input device.</p>

<p style="margin-left:11%; margin-top: 1em">The filename to
provide to the input device is the device node representing
the <small>OSS</small> input device, and is usually set to
<i>/dev/dsp</i>.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
grab from <i>/dev/dsp</i> using <i>ffmpeg</i> use the
command:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;f oss &minus;i /dev/dsp /tmp/oss.wav</pre>


<p style="margin-left:11%; margin-top: 1em">For more
information about <small>OSS</small> see:
&lt;<b>http://manuals.opensound.com/usersguide/dsp.html</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>video4linux
and video4linux2</b> <br>
Video4Linux and Video4Linux2 input video devices.</p>

<p style="margin-left:11%; margin-top: 1em">The name of the
device to grab is a file device node, usually Linux systems
tend to automatically create such nodes when the device
(e.g. an <small>USB</small> webcam) is plugged into the
system, and has a name of the kind <i>/dev/videoN</i>, where
<i>N</i> is a number associated to the device.</p>

<p style="margin-left:11%; margin-top: 1em">Video4Linux and
Video4Linux2 devices only support a limited set of
<i>width</i>x<i>height</i> sizes and framerates. You can
check which are supported for example with the command
<i>dov4l</i> for Video4Linux devices and the command
<i>v4l&minus;info</i> for Video4Linux2 devices.</p>

<p style="margin-left:11%; margin-top: 1em">If the size for
the device is set to 0x0, the input device will try to
autodetect the size to use. Only for the video4linux2
device, if the frame rate is set to 0/0 the input device
will use the frame rate value already set in the driver.</p>

<p style="margin-left:11%; margin-top: 1em">Video4Linux
support is deprecated since Linux 2.6.30, and will be
dropped in later versions.</p>

<p style="margin-left:11%; margin-top: 1em">Follow some
usage examples of the video4linux devices with the ff*
tools.</p>

<pre style="margin-left:11%; margin-top: 1em">        # Grab and show the input of a video4linux device, frame rate is set
        # to the default of 25/1.
        ffplay &minus;s 320x240 &minus;f video4linux /dev/video0
        # Grab and show the input of a video4linux2 device, autoadjust size.
        ffplay &minus;f video4linux2 /dev/video0
        # Grab and record the input of a video4linux2 device, autoadjust size,
        # frame rate value defaults to 0/0 so it is read from the video4linux2
        # driver.
        ffmpeg &minus;f video4linux2 &minus;i /dev/video0 out.mpeg</pre>


<p style="margin-left:11%; margin-top: 1em"><b>vfwcap</b>
<br>
VfW (Video for Windows) capture input device.</p>

<p style="margin-left:11%; margin-top: 1em">The filename
passed as input is the capture driver number, ranging from 0
to 9. You may use &quot;list&quot; as filename to print a
list of drivers. Any other filename will be interpreted as
device number 0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>x11grab</b>
<br>
X11 video input device.</p>

<p style="margin-left:11%; margin-top: 1em">This device
allows to capture a region of an X11 display.</p>

<p style="margin-left:11%; margin-top: 1em">The filename
passed as input has the syntax:</p>

<pre style="margin-left:11%; margin-top: 1em">        [&lt;hostname&gt;]:&lt;display_number&gt;.&lt;screen_number&gt;[+&lt;x_offset&gt;,&lt;y_offset&gt;]</pre>



<p style="margin-left:11%; margin-top: 1em"><i>hostname</i>:<i>display_number</i>.<i>screen_number</i>
specifies the X11 display name of the screen to grab from.
<i>hostname</i> can be ommitted, and defaults to
&quot;localhost&quot;. The environment variable
<b><small>DISPLAY</small></b> contains the default display
name.</p>


<p style="margin-left:11%; margin-top: 1em"><i>x_offset</i>
and <i>y_offset</i> specify the offsets of the grabbed area
with respect to the top-left border of the X11 screen. They
default to 0.</p>

<p style="margin-left:11%; margin-top: 1em">Check the X11
documentation (e.g. man X) for more detailed
information.</p>

<p style="margin-left:11%; margin-top: 1em">Use the
<i>dpyinfo</i> program for getting basic information about
the properties of your X11 display (e.g. grep for
&quot;name&quot; or &quot;dimensions&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">For example to
grab from <i>:0.0</i> using <i>ffmpeg</i>:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;f x11grab &minus;r 25 &minus;s cif &minus;i :0.0 out.mpg
        # Grab at position 10,20.
        ffmpeg &minus;f x11grab &minus;25 &minus;s cif &minus;i :0.0+10,20 out.mpg</pre>


<h2>OUTPUT DEVICES
<a name="OUTPUT DEVICES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Output devices
are configured elements in FFmpeg which allow to write
multimedia data to an output device attached to your
system.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported output
devices are enabled by default. You can list all available
ones using the configure option
&quot;&minus;&minus;list&minus;outdevs&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the output devices using the configure option
&quot;&minus;&minus;disable&minus;outdevs&quot;, and
selectively enable an output device using the option
&quot;&minus;&minus;enable&minus;outdev=
<i><small>OUTDEV</small></i> &quot;, or you can disable a
particular input device using the option
&quot;&minus;&minus;disable&minus;outdev=
<i><small>OUTDEV</small></i> &quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;&minus;formats&quot; of the ff* tools will display the
list of enabled output devices (amongst the muxers).</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the currently available output devices follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>alsa</b>
<small><br>
ALSA</small> (Advanced Linux Sound Architecture) output
device.</p>

<p style="margin-left:11%; margin-top: 1em"><b>oss</b>
<small><br>
OSS</small> (Open Sound System) output device.</p>

<h2>PROTOCOLS
<a name="PROTOCOLS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Protocols are
configured elements in FFmpeg which allow to access
resources which require the use of a particular
protocol.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported protocols are
enabled by default. You can list all available ones using
the configure option
&quot;&minus;&minus;list&minus;protocols&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the protocols using the configure option
&quot;&minus;&minus;disable&minus;protocols&quot;, and
selectively enable a protocol using the option
&quot;&minus;&minus;enable&minus;protocol=
<i><small>PROTOCOL</small></i> &quot;, or you can disable a
particular protocol using the option
&quot;&minus;&minus;disable&minus;protocol=
<i><small>PROTOCOL</small></i> &quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;&minus;protocols&quot; of the ff* tools will display
the list of supported protocols.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the currently available protocols follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>concat</b>
<br>
Physical concatenation protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Allow to read
and seek from many resource in sequence as if they were a
unique resource.</p>

<p style="margin-left:11%; margin-top: 1em">A
<small>URL</small> accepted by this protocol has the
syntax:</p>

<pre style="margin-left:11%; margin-top: 1em">        concat:&lt;URL1&gt;|&lt;URL2&gt;|...|&lt;URLN&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">where
<i><small>URL1</small></i> , <i><small>URL2</small></i> ,
..., <i><small>URLN</small></i> are the urls of the resource
to be concatenated, each one possibly specifying a distinct
protocol.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
read a sequence of files <i>split1.mpeg</i>,
<i>split2.mpeg</i>, <i>split3.mpeg</i> with <i>ffplay</i>
use the command:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffplay concat:split1.mpeg\|split2.mpeg\|split3.mpeg</pre>


<p style="margin-left:11%; margin-top: 1em">Note that you
may need to escape the character &quot;|&quot; which is
special for many shells.</p>

<p style="margin-left:11%; margin-top: 1em"><b>file</b>
<br>
File access protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Allow to read
from or read to a file.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
read from a file <i>input.mpeg</i> with <i>ffmpeg</i> use
the command:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i file:input.mpeg output.mpeg</pre>


<p style="margin-left:11%; margin-top: 1em">The ff* tools
default to the file protocol, that is a resource specified
with the name &quot; <small>FILE</small> .mpeg&quot; is
interpreted as the <small>URL</small>
&quot;file:FILE.mpeg&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>gopher</b>
<br>
Gopher protocol.</p>

<p style="margin-left:11%; margin-top: 1em"><b>http</b>
<small><br>
HTTP</small> (Hyper Text Transfer Protocol).</p>

<p style="margin-left:11%; margin-top: 1em"><b>mmst</b>
<small><br>
MMS</small> (Microsoft Media Server) protocol over
<small>TCP</small> .</p>

<p style="margin-left:11%; margin-top: 1em"><b>mmsh</b>
<small><br>
MMS</small> (Microsoft Media Server) protocol over
<small>HTTP</small> .</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax is:</p>

<pre style="margin-left:11%; margin-top: 1em">        mmsh://&lt;server&gt;[:&lt;port&gt;][/&lt;app&gt;][/&lt;playpath&gt;]</pre>


<p style="margin-left:11%; margin-top: 1em"><b>md5</b>
<small><br>
MD5</small> output protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Computes the
<small>MD5</small> hash of the data to be written, and on
close writes this to the designated output or stdout if none
is specified. It can be used to test muxers without writing
an actual file.</p>

<p style="margin-left:11%; margin-top: 1em">Some examples
follow.</p>

<pre style="margin-left:11%; margin-top: 1em">        # Write the MD5 hash of the encoded AVI file to the file output.avi.md5.
        ffmpeg &minus;i input.flv &minus;f avi &minus;y md5:output.avi.md5
        # Write the MD5 hash of the encoded AVI file to stdout.
        ffmpeg &minus;i input.flv &minus;f avi &minus;y md5:</pre>


<p style="margin-left:11%; margin-top: 1em">Note that some
formats (typically <small>MOV</small> ) require the output
protocol to be seekable, so they will fail with the
<small>MD5</small> output protocol.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pipe</b>
<small><br>
UNIX</small> pipe access protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Allow to read
and write from <small>UNIX</small> pipes.</p>

<p style="margin-left:11%; margin-top: 1em">The accepted
syntax is:</p>

<pre style="margin-left:11%; margin-top: 1em">        pipe:[&lt;number&gt;]</pre>


<p style="margin-left:11%; margin-top: 1em"><i>number</i>
is the number corresponding to the file descriptor of the
pipe (e.g. 0 for stdin, 1 for stdout, 2 for stderr). If
<i>number</i> is not specified, by default the stdout file
descriptor will be used for writing, stdin for reading.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
read from stdin with <i>ffmpeg</i>:</p>

<pre style="margin-left:11%; margin-top: 1em">        cat test.wav | ffmpeg &minus;i pipe:0
        # ...this is the same as...
        cat test.wav | ffmpeg &minus;i pipe:</pre>


<p style="margin-left:11%; margin-top: 1em">For writing to
stdout with <i>ffmpeg</i>:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i test.wav &minus;f avi pipe:1 | cat &gt; test.avi
        # ...this is the same as...
        ffmpeg &minus;i test.wav &minus;f avi pipe: | cat &gt; test.avi</pre>


<p style="margin-left:11%; margin-top: 1em">Note that some
formats (typically <small>MOV</small> ), require the output
protocol to be seekable, so they will fail with the pipe
output protocol.</p>

<p style="margin-left:11%; margin-top: 1em"><b>rtmp</b>
<br>
Real-Time Messaging Protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The Real-Time
Messaging Protocol ( <small>RTMP</small> ) is used for
streaming multimeaXX dia content across a
<small>TCP/IP</small> network.</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax is:</p>

<pre style="margin-left:11%; margin-top: 1em">        rtmp://&lt;server&gt;[:&lt;port&gt;][/&lt;app&gt;][/&lt;playpath&gt;]</pre>


<p style="margin-left:11%; margin-top: 1em">The accepted
parameters are: <b><br>
server</b></p>

<p style="margin-left:17%;">The address of the
<small>RTMP</small> server.</p>

<p style="margin-left:11%;"><b>port</b></p>

<p style="margin-left:17%;">The number of the
<small>TCP</small> port to use (by default is 1935).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>app</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>It is the name of the application to access. It usually
corresponds to the path where the application is installed
on the <small>RTMP</small> server (e.g. <i>/ondemand/</i>,
<i>/flash/live/</i>, etc.).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>playpath</b></p>

<p style="margin-left:17%;">It is the path or name of the
resource to play with reference to the application specified
in <i>app</i>, may be prefixed by &quot;mp4:&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
read with <i>ffplay</i> a multimedia resource named
&quot;sample&quot; from the application &quot;vod&quot; from
an <small>RTMP</small> server &quot;myserver&quot;:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffplay rtmp://myserver/vod/sample</pre>


<p style="margin-left:11%; margin-top: 1em"><b>rtmp, rtmpe,
rtmps, rtmpt, rtmpte</b> <br>
Real-Time Messaging Protocol and its variants supported
through librtmp.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the librtmp headers and library during
configuration. You need to explicitely configure the build
with &quot;&minus;&minus;enable&minus;librtmp&quot;. If
enabled this will replace the native <small>RTMP</small>
protocol.</p>

<p style="margin-left:11%; margin-top: 1em">This protocol
provides most client functions and a few server functions
needed to support <small>RTMP</small> , <small>RTMP</small>
tunneled in <small>HTTP</small> ( <small>RTMPT</small> ),
encrypted <small>RTMP</small> ( <small>RTMPE</small> ),
<small>RTMP</small> over <small>SSL/TLS</small> (
<small>RTMPS</small> ) and tunneled variants of these
encrypted types ( <small>RTMPTE</small> ,
<small>RTMPTS</small> ).</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax is:</p>

<pre style="margin-left:11%; margin-top: 1em">        &lt;rtmp_proto&gt;://&lt;server&gt;[:&lt;port&gt;][/&lt;app&gt;][/&lt;playpath&gt;] &lt;options&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">where
<i>rtmp_proto</i> is one of the strings &quot;rtmp&quot;,
&quot;rtmpt&quot;, &quot;rtmpe&quot;, &quot;rtmps&quot;,
&quot;rtmpte&quot;, &quot;rtmpts&quot; corresponding to each
<small>RTMP</small> variant, and <i>server</i>, <i>port</i>,
<i>app</i> and <i>playpath</i> have the same meaning as
specified for the <small>RTMP</small> native protocol.
<i>options</i> contains a list of space-separated options of
the form <i>key</i>=<i>val</i>.</p>

<p style="margin-left:11%; margin-top: 1em">See the librtmp
manual page (man 3 librtmp) for more information.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
stream a file in real-time to an <small>RTMP</small> server
using <i>ffmpeg</i>:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;re &minus;i myfile &minus;f flv rtmp://myserver/live/mystream</pre>


<p style="margin-left:11%; margin-top: 1em">To play the
same stream using <i>ffplay</i>:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffplay &quot;rtmp://myserver/live/mystream live=1&quot;</pre>


<p style="margin-left:11%; margin-top: 1em"><b>rtp</b> <br>
Real-Time Protocol.</p>

<p style="margin-left:11%; margin-top: 1em"><b>rtsp</b>
<small><br>
RTSP</small> is not technically a protocol handler in
libavformat, it is a demuxer and muxer. The demuxer supports
both normal <small>RTSP</small> (with data transferred over
<small>RTP</small> ; this is used by e.g. Apple and
Microsoft) and Real-RTSP (with data transferred over
<small>RDT</small> ).</p>

<p style="margin-left:11%; margin-top: 1em">The muxer can
be used to send a stream using <small>RTSP ANNOUNCE</small>
to a server supporting it (currently Darwin Streaming Server
and Mischa Spiegelmock&rsquo;s <small>RTSP</small> server,
&lt;<b>http://github.com/revmischa/rtsp&minus;server</b>&gt;).</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax for a <small>RTSP</small> url is:</p>

<pre style="margin-left:11%; margin-top: 1em">        rtsp://&lt;hostname&gt;[:&lt;port&gt;]/&lt;path&gt;[?&lt;options&gt;]</pre>


<p style="margin-left:11%; margin-top: 1em"><i>options</i>
is a <tt>&quot;&amp;&quot;</tt>&minus;separated list. The
following options are supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>udp</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Use <small>UDP</small> as lower transport protocol.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>tcp</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Use <small>TCP</small> (interleaving within the
<small>RTSP</small> control channel) as lower transport
protocol.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>multicast</b></p>

<p style="margin-left:17%;">Use <small>UDP</small>
multicast as lower transport protocol.</p>

<p style="margin-left:11%;"><b>http</b></p>

<p style="margin-left:17%;">Use <small>HTTP</small>
tunneling as lower transport protocol, which is useful for
passing proxies.</p>

<p style="margin-left:11%;"><b>filter_src</b></p>

<p style="margin-left:17%;">Accept packets only from
negotiated peer address and port.</p>

<p style="margin-left:11%; margin-top: 1em">Multiple lower
transport protocols may be specified, in that case they are
tried one at a time (if the setup of one fails, the next one
is tried). For the muxer, only the <tt>&quot;tcp&quot;</tt>
and <tt>&quot;udp&quot;</tt> options are supported.</p>

<p style="margin-left:11%; margin-top: 1em">When receiving
data over <small>UDP</small> , the demuxer tries to reorder
received packets (since they may arrive out of order, or
packets may get lost totally). In order for this to be
enabled, a maximum delay must be specified in the
<tt>&quot;max_delay&quot;</tt> field of AVFormatContext.</p>

<p style="margin-left:11%; margin-top: 1em">When watching
multi-bitrate Real-RTSP streams with <i>ffplay</i>, the
streams to display can be chosen with
<tt>&quot;&minus;vst&quot;</tt> <i>n</i> and
<tt>&quot;&minus;ast&quot;</tt> <i>n</i> for video and audio
respectively, and can be switched on the fly by pressing
<tt>&quot;v&quot;</tt> and <tt>&quot;a&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">Example command
lines:</p>

<p style="margin-left:11%; margin-top: 1em">To watch a
stream over <small>UDP</small> , with a max reordering delay
of 0.5 seconds:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffplay &minus;max_delay 500000 rtsp://server/video.mp4?udp</pre>


<p style="margin-left:11%; margin-top: 1em">To watch a
stream tunneled over <small>HTTP:</small></p>

<pre style="margin-left:11%; margin-top: 1em">        ffplay rtsp://server/video.mp4?http</pre>


<p style="margin-left:11%; margin-top: 1em">To send a
stream in realtime to a <small>RTSP</small> server, for
others to watch:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;re &minus;i &lt;input&gt; &minus;f rtsp &minus;muxdelay 0.1 rtsp://server/live.sdp</pre>


<p style="margin-left:11%; margin-top: 1em"><b>sap</b> <br>
Session Announcement Protocol ( <small>RFC</small> 2974).
This is not technically a protocol handler in libavformat,
it is a muxer and demuxer. It is used for signalling of
<small>RTP</small> streams, by announcing the
<small>SDP</small> for the streams regularly on a separate
port.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Muxer</i></p>

<p style="margin-left:11%; margin-top: 1em">The syntax for
a <small>SAP</small> url given to the muxer is:</p>

<pre style="margin-left:11%; margin-top: 1em">        sap://&lt;destination&gt;[:&lt;port&gt;][?&lt;options&gt;]</pre>


<p style="margin-left:11%; margin-top: 1em">The
<small>RTP</small> packets are sent to <i>destination</i> on
port <i>port</i>, or to port 5004 if no port is specified.
<i>options</i> is a
<tt>&quot;&amp;&quot;</tt>&minus;separated list. The
following options are supported: <b><br>
announce_addr=</b><i>address</i></p>

<p style="margin-left:17%;">Specify the destination
<small>IP</small> address for sending the announcements to.
If omitted, the announcements are sent to the commonly used
<small>SAP</small> announcement multicast address
224.2.127.254 (sap.mcast.net), or ff0e::2:7ffe if
<i>destination</i> is an IPv6 address.</p>


<p style="margin-left:11%;"><b>announce_port=</b><i>port</i></p>

<p style="margin-left:17%;">Specify the port to send the
announcements on, defaults to 9875 if not specified.</p>

<p style="margin-left:11%;"><b>ttl=</b><i>ttl</i></p>

<p style="margin-left:17%;">Specify the time to live value
for the announcements and <small>RTP</small> packets,
defaults to 255.</p>


<p style="margin-left:11%;"><b>same_port=</b><i>0|1</i></p>

<p style="margin-left:17%;">If set to 1, send all
<small>RTP</small> streams on the same port pair. If zero
(the default), all streams are sent on unique ports, with
each stream on a port 2 numbers higher than the previous.
VLC/Live555 requires this to be set to 1, to be able to
receive the stream. The <small>RTP</small> stack in
libavformat for receiving requires all streams to be sent on
unique ports.</p>

<p style="margin-left:11%; margin-top: 1em">Example command
lines follow.</p>

<p style="margin-left:11%; margin-top: 1em">To broadcast a
stream on the local subnet, for watching in
<small>VLC:</small></p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;re &minus;i &lt;input&gt; &minus;f sap sap://224.0.0.255?same_port=1</pre>


<p style="margin-left:11%; margin-top: 1em">Similarly, for
watching in ffplay:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;re &minus;i &lt;input&gt; &minus;f sap sap://224.0.0.255</pre>


<p style="margin-left:11%; margin-top: 1em">And for
watching in ffplay, over IPv6:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;re &minus;i &lt;input&gt; &minus;f sap sap://[ff0e::1:2:3:4]</pre>



<p style="margin-left:11%; margin-top: 1em"><i>Demuxer</i></p>

<p style="margin-left:11%; margin-top: 1em">The syntax for
a <small>SAP</small> url given to the demuxer is:</p>

<pre style="margin-left:11%; margin-top: 1em">        sap://[&lt;address&gt;][:&lt;port&gt;]</pre>


<p style="margin-left:11%; margin-top: 1em"><i>address</i>
is the multicast address to listen for announcements on, if
omitted, the default 224.2.127.254 (sap.mcast.net) is used.
<i>port</i> is the port that is listened on, 9875 if
omitted.</p>

<p style="margin-left:11%; margin-top: 1em">The demuxers
listens for announcements on the given address and port.
Once an announcement is received, it tries to receive that
particular stream.</p>

<p style="margin-left:11%; margin-top: 1em">Example command
lines follow.</p>

<p style="margin-left:11%; margin-top: 1em">To play back
the first stream announced on the normal <small>SAP</small>
multicast address:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffplay sap://</pre>


<p style="margin-left:11%; margin-top: 1em">To play back
the first stream announced on one the default IPv6
<small>SAP</small> multicast address:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffplay sap://[ff0e::2:7ffe]</pre>


<p style="margin-left:11%; margin-top: 1em"><b>tcp</b> <br>
Trasmission Control Protocol.</p>

<p style="margin-left:11%; margin-top: 1em"><b>udp</b> <br>
User Datagram Protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax for a <small>UDP</small> url is:</p>

<pre style="margin-left:11%; margin-top: 1em">        udp://&lt;hostname&gt;:&lt;port&gt;[?&lt;options&gt;]</pre>


<p style="margin-left:11%; margin-top: 1em"><i>options</i>
contains a list of &amp;&minus;seperated options of the form
<i>key</i>=<i>val</i>. Follow the list of supported options.
<b><br>
buffer_size=</b><i>size</i></p>

<p style="margin-left:17%;">set the <small>UDP</small>
buffer size in bytes</p>


<p style="margin-left:11%;"><b>localport=</b><i>port</i></p>

<p style="margin-left:17%;">override the local
<small>UDP</small> port to bind with</p>


<p style="margin-left:11%;"><b>pkt_size=</b><i>size</i></p>

<p style="margin-left:17%;">set the size in bytes of
<small>UDP</small> packets</p>

<p style="margin-left:11%;"><b>reuse=</b><i>1|0</i></p>

<p style="margin-left:17%;">explicitly allow or disallow
reusing <small>UDP</small> sockets</p>

<p style="margin-left:11%;"><b>ttl=</b><i>ttl</i></p>

<p style="margin-left:17%;">set the time to live value (for
multicast only)</p>

<p style="margin-left:11%;"><b>connect=</b><i>1|0</i></p>

<p style="margin-left:17%;">Initialize the
<small>UDP</small> socket with
<tt>&quot;connect()&quot;</tt>. In this case, the
destination address can&rsquo;t be changed with
udp_set_remote_url later. If the destination address
isn&rsquo;t known at the start, this option can be specified
in udp_set_remote_url, too. This allows finding out the
source address for the packets with getsockname, and makes
writes return with <small>AVERROR</small> (
<small>ECONNREFUSED</small> ) if &quot;destination
unreachable&quot; is received. For receiving, this gives the
benefit of only receiving packets from the specified peer
address/port.</p>

<p style="margin-left:11%; margin-top: 1em">Some usage
examples of the udp protocol with <i>ffmpeg</i> follow.</p>

<p style="margin-left:11%; margin-top: 1em">To stream over
<small>UDP</small> to a remote endpoint:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i &lt;input&gt; &minus;f &lt;format&gt; udp://&lt;hostname&gt;:&lt;port&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">To stream in
mpegts format over <small>UDP</small> using 188 sized
<small>UDP</small> packets, using a large input buffer:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i &lt;input&gt; &minus;f mpegts udp://&lt;hostname&gt;:&lt;port&gt;?pkt_size=188&amp;buffer_size=65535</pre>


<p style="margin-left:11%; margin-top: 1em">To receive over
<small>UDP</small> from a remote endpoint:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i udp://[&lt;multicast&minus;address&gt;]:&lt;port&gt;</pre>


<h2>BITSTREAM FILTERS
<a name="BITSTREAM FILTERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported bitstream
filters are enabled by default. You can list all available
ones using the configure option
<tt>&quot;&minus;&minus;list&minus;bsfs&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the bitstream filters using the configure option
<tt>&quot;&minus;&minus;disable&minus;bsfs&quot;</tt>, and
selectively enable any bitstream filter using the option
<tt>&quot;&minus;&minus;enable&minus;bsf=BSF&quot;</tt>, or
you can disable a particular bitstream filter using the
option
<tt>&quot;&minus;&minus;disable&minus;bsf=BSF&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">The option
<tt>&quot;&minus;bsfs&quot;</tt> of the ff* tools will
display the list of all the supported bitstream filters
included in your build.</p>

<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available bitstream
filters.</p>


<p style="margin-left:11%; margin-top: 1em"><b>aac_adtstoasc
<br>
chomp <br>
dump_extradata <br>
h264_mp4toannexb <br>
imx_dump_header <br>
mjpeg2jpeg</b> <br>
Convert <small>MJPEG/AVI1</small> packets to full
<small>JPEG/JFIF</small> packets.</p>


<p style="margin-left:11%; margin-top: 1em"><small>MJPEG</small>
is a video codec wherein each video frame is essentially a
<small>JPEG</small> image. The individual frames can be
extracted without loss, e.g. by</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i ../some_mjpeg.avi &minus;vcodec copy frames_%d.jpg</pre>


<p style="margin-left:11%; margin-top: 1em">Unfortunately,
these chunks are incomplete <small>JPEG</small> images,
because they lack the <small>DHT</small> segment required
for decoding. Quoting from
&lt;<b>http://www.digitalpreservation.gov/formats/fdd/fdd000063.shtml</b>&gt;:</p>

<p style="margin-left:11%; margin-top: 1em">Avery Lee,
writing in the rec.video.desktop newsgroup in 2001,
commented that &quot; <small>MJPEG</small> , or at least the
<small>MJPEG</small> in AVIs having the <small>MJPG</small>
fourcc, is restricted <small>JPEG</small> with a fixed --
and *omitted* -- Huffman table. The <small>JPEG</small> must
be YCbCr colorspace, it must be 4:2:2, and it must use basic
Huffman encoding, not arithmetic or progressive. . . . You
can indeed extract the <small>MJPEG</small> frames and
decode them with a regular <small>JPEG</small> decoder, but
you have to prepend the <small>DHT</small> segment to them,
or else the decoder won&rsquo;t have any idea how to
decompress the data. The exact table necessary is given in
the OpenDML spec.&quot;</p>

<p style="margin-left:11%; margin-top: 1em">This bitstream
filter patches the header of frames extracted from an
<small>MJPEG</small> stream (carrying the
<small>AVI1</small> header <small>ID</small> and lacking a
<small>DHT</small> segment) to produce fully qualified
<small>JPEG</small> images.</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i mjpeg&minus;movie.avi &minus;vcodec copy &minus;vbsf mjpeg2jpeg frame_%d.jpg
        exiftran &minus;i &minus;9 frame*.jpg
        ffmpeg &minus;i frame_%d.jpg &minus;vcodec copy rotated.avi</pre>



<p style="margin-left:11%; margin-top: 1em"><b>mjpega_dump_header
<br>
movsub <br>
mp3_header_compress <br>
mp3_header_decompress <br>
noise <br>
remove_extradata</b></p>

<h2>FILTERGRAPH DESCRIPTION
<a name="FILTERGRAPH DESCRIPTION"></a>
</h2>


<p style="margin-left:11%;">A filtergraph is a directed
graph of connected filters. It can contain cycles, and there
can be multiple links between a pair of filters. Each link
has one input pad on one side connecting it to one filter
from which it takes its input, and one output pad on the
other side connecting it to the one filter accepting its
output.</p>

<p style="margin-left:11%; margin-top: 1em">Each filter in
a filtergraph is an instance of a filter class registered in
the application, which defines the features and the number
of input and output pads of the filter.</p>

<p style="margin-left:11%; margin-top: 1em">A filter with
no input pads is called a &quot;source&quot;, a filter with
no output pads is called a &quot;sink&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Filtergraph
syntax</b> <br>
A filtergraph can be represented using a textual
representation, which is recognized by the
<tt>&quot;&minus;vf&quot;</tt> and
<tt>&quot;&minus;af&quot;</tt> options of the ff* tools, and
by the <tt>&quot;av_parse_graph()&quot;</tt> function
defined in <i>libavfilter/avfiltergraph</i>.</p>

<p style="margin-left:11%; margin-top: 1em">A filterchain
consists of a sequence of connected filters, each one
connected to the previous one in the sequence. A filterchain
is represented by a list of &quot;,&quot;&minus;separated
filter descriptions.</p>

<p style="margin-left:11%; margin-top: 1em">A filtergraph
consists of a sequence of filterchains. A sequence of
filterchains is represented by a list of
&quot;;&quot;&minus;separated filterchain descriptions.</p>

<p style="margin-left:11%; margin-top: 1em">A filter is
represented by a string of the form:
[<i>in_link_1</i>]...[<i>in_link_N</i>]<i>filter_name</i>=<i>arguments</i>[<i>out_link_1</i>]...[<i>out_link_M</i>]</p>


<p style="margin-left:11%; margin-top: 1em"><i>filter_name</i>
is the name of the filter class of which the described
filter is an instance of, and has to be the name of one of
the filter classes registered in the program. The name of
the filter class is optionally followed by a string
&quot;=<i>arguments</i>&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>arguments</i>
is a string which contains the parameters used to initialize
the filter instance, and are described in the filter
descriptions below.</p>

<p style="margin-left:11%; margin-top: 1em">The list of
arguments can be quoted using the character
&quot;&rsquo;&quot; as initial and ending mark, and the
character &rsquo;\&rsquo; for escaping the characters within
the quoted text; otherwise the argument string is considered
terminated when the next special character (belonging to the
set &quot;[]=;,&quot;) is encountered.</p>

<p style="margin-left:11%; margin-top: 1em">The name and
arguments of the filter are optionally preceded and followed
by a list of link labels. A link label allows to name a link
and associate it to a filter output or input pad. The
preceding labels <i>in_link_1</i> ... <i>in_link_N</i>, are
associated to the filter input pads, the following labels
<i>out_link_1</i> ... <i>out_link_M</i>, are associated to
the output pads.</p>

<p style="margin-left:11%; margin-top: 1em">When two link
labels with the same name are found in the filtergraph, a
link between the corresponding input and output pad is
created.</p>

<p style="margin-left:11%; margin-top: 1em">If an output
pad is not labelled, it is linked by default to the first
unlabelled input pad of the next filter in the filterchain.
For example in the filterchain:</p>

<pre style="margin-left:11%; margin-top: 1em">        nullsrc, split[L1], [L2]overlay, nullsink</pre>


<p style="margin-left:11%; margin-top: 1em">the split
filter instance has two output pads, and the overlay filter
instance two input pads. The first output pad of split is
labelled &quot;L1&quot;, the first input pad of overlay is
labelled &quot;L2&quot;, and the second output pad of split
is linked to the second input pad of overlay, which are both
unlabelled.</p>

<p style="margin-left:11%; margin-top: 1em">In a complete
filterchain all the unlabelled filter input and output pads
must be connected. A filtergraph is considered valid if all
the filter input and output pads of all the filterchains are
connected.</p>

<p style="margin-left:11%; margin-top: 1em">Follows a
<small>BNF</small> description for the filtergraph
syntax:</p>

<pre style="margin-left:11%; margin-top: 1em">        &lt;NAME&gt;             ::= sequence of alphanumeric characters and '_'
        &lt;LINKLABEL&gt;        ::= &quot;[&quot; &lt;NAME&gt; &quot;]&quot;
        &lt;LINKLABELS&gt;       ::= &lt;LINKLABEL&gt; [&lt;LINKLABELS&gt;]
        &lt;FILTER_ARGUMENTS&gt; ::= sequence of chars (eventually quoted)
        &lt;FILTER&gt;           ::= [&lt;LINKNAMES&gt;] &lt;NAME&gt; [&quot;=&quot; &lt;ARGUMENTS&gt;] [&lt;LINKNAMES&gt;]
        &lt;FILTERCHAIN&gt;      ::= &lt;FILTER&gt; [,&lt;FILTERCHAIN&gt;]
        &lt;FILTERGRAPH&gt;      ::= &lt;FILTERCHAIN&gt; [;&lt;FILTERGRAPH&gt;]</pre>


<h2>AUDIO FILTERS
<a name="AUDIO FILTERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, you can disable any of the
existing filters using &minus;&minus;disable&minus;filters.
The configure output will show the audio filters included in
your build.</p>

<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available audio filters.</p>

<p style="margin-left:11%; margin-top: 1em"><b>anull</b>
<br>
Pass the audio source unchanged to the output.</p>

<h2>AUDIO SOURCES
<a name="AUDIO SOURCES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available audio sources.</p>


<p style="margin-left:11%; margin-top: 1em"><b>anullsrc</b>
<br>
Null audio source, never return audio frames. It is mainly
useful as a template and to be employed in analysis /
debugging tools.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts as
optional parameter a string of the form
<i>sample_rate</i>:<i>channel_layout</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>sample_rate</i>
specify the sample rate, and defaults to 44100.</p>


<p style="margin-left:11%; margin-top: 1em"><i>channel_layout</i>
specify the channel layout, and can be either an integer or
a string representing a channel layout. The default value of
<i>channel_layout</i> is 3, which corresponds to
<small>CH_LAYOUT_STEREO</small> .</p>

<p style="margin-left:11%; margin-top: 1em">Check the
channel_layout_map definition in
<i>libavcodec/audioconvert.c</i> for the mapping between
strings and channel layout values.</p>

<p style="margin-left:11%; margin-top: 1em">Follow some
examples:</p>

<pre style="margin-left:11%; margin-top: 1em">        #  set the sample rate to 48000 Hz and the channel layout to CH_LAYOUT_MONO.
        anullsrc=48000:4
        # same as
        anullsrc=48000:mono</pre>


<h2>AUDIO SINKS
<a name="AUDIO SINKS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available audio sinks.</p>


<p style="margin-left:11%; margin-top: 1em"><b>anullsink</b>
<br>
Null audio sink, do absolutely nothing with the input audio.
It is mainly useful as a template and to be employed in
analysis / debugging tools.</p>

<h2>VIDEO FILTERS
<a name="VIDEO FILTERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, you can disable any of the
existing filters using &minus;&minus;disable&minus;filters.
The configure output will show the video filters included in
your build.</p>

<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available video filters.</p>


<p style="margin-left:11%; margin-top: 1em"><b>blackframe</b>
<br>
Detect frames that are (almost) completely black. Can be
useful to detect chapter transitions or commercials. Output
lines consist of the frame number of the detected frame, the
percentage of blackness, the position in the file if known
or &minus;1 and the timestamp in seconds.</p>

<p style="margin-left:11%; margin-top: 1em">In order to
display the output lines, you need to set the loglevel at
least to the <small>AV_LOG_INFO</small> value.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the syntax:</p>

<pre style="margin-left:11%; margin-top: 1em">        blackframe[=&lt;amount&gt;:[&lt;threshold&gt;]]</pre>


<p style="margin-left:11%; margin-top: 1em"><i>amount</i>
is the percentage of the pixels that have to be below the
threshold, and defaults to 98.</p>


<p style="margin-left:11%; margin-top: 1em"><i>threshold</i>
is the threshold below which a pixel value is considered
black, and defaults to 32.</p>

<p style="margin-left:11%; margin-top: 1em"><b>copy</b>
<br>
Copy the input source unchanged to the output. Mainly useful
for testing purposes.</p>

<p style="margin-left:11%; margin-top: 1em"><b>crop</b>
<br>
Crop the input video to
<i>out_w</i>:<i>out_h</i>:<i>x</i>:<i>y</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The parameters
are expressions containing the following constants: <b><br>
E, <small>PI</small> , <small>PHI</small></b></p>

<p style="margin-left:17%;">the corresponding mathematical
approximated values for e (euler number), pi (greek
<small>PI</small> ), <small>PHI</small> (golden ratio)</p>

<p style="margin-left:11%;"><b>x, y</b></p>

<p style="margin-left:17%;">the computed values for
<i>x</i> and <i>y</i>. They are evaluated for each new
frame.</p>

<p style="margin-left:11%;"><b>in_w, in_h</b></p>

<p style="margin-left:17%;">the input width and heigth</p>

<p style="margin-left:11%;"><b>iw, ih</b></p>

<p style="margin-left:17%;">same as <i>in_w</i> and
<i>in_h</i></p>

<p style="margin-left:11%;"><b>out_w, out_h</b></p>

<p style="margin-left:17%;">the output (cropped) width and
heigth</p>

<p style="margin-left:11%;"><b>ow, oh</b></p>

<p style="margin-left:17%;">same as <i>out_w</i> and
<i>out_h</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>n</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the number of input frame, starting from 0</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pos</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the position in the file of the input frame,
<small>NAN</small> if unknown</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>timestamp expressed in seconds, <small>NAN</small> if
the input timestamp is unknown</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The
<i>out_w</i> and <i>out_h</i> parameters specify the
expressions for the width and height of the output (cropped)
video. They are evaluated just at the configuration of the
filter.</p>

<p style="margin-left:11%; margin-top: 1em">The default
value of <i>out_w</i> is &quot;in_w&quot;, and the default
value of <i>out_h</i> is &quot;in_h&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The expression
for <i>out_w</i> may depend on the value of <i>out_h</i>,
and the expression for <i>out_h</i> may depend on
<i>out_w</i>, but they cannot depend on <i>x</i> and
<i>y</i>, as <i>x</i> and <i>y</i> are evaluated after
<i>out_w</i> and <i>out_h</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>x</i>
and <i>y</i> parameters specify the expressions for the
position of the top-left corner of the output (non-cropped)
area. They are evaluated for each frame. If the evaluated
value is not valid, it is approximated to the nearest valid
value.</p>

<p style="margin-left:11%; margin-top: 1em">The default
value of <i>x</i> is &quot;(in_w&minus;out_w)/2&quot;, and
the default value for <i>y</i> is
&quot;(in_h&minus;out_h)/2&quot;, which set the cropped area
at the center of the input image.</p>

<p style="margin-left:11%; margin-top: 1em">The expression
for <i>x</i> may depend on <i>y</i>, and the expression for
<i>y</i> may depend on <i>x</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Follow some
examples:</p>

<pre style="margin-left:11%; margin-top: 1em">        # crop the central input area with size 100x100
        crop=100:100
        # crop the central input area with size 2/3 of the input video
        &quot;crop=2/3*in_w:2/3*in_h&quot;
        # crop the input video central square
        crop=in_h
        # delimit the rectangle with the top&minus;left corner placed at position
        # 100:100 and the right&minus;bottom corner corresponding to the right&minus;bottom
        # corner of the input image.
        crop=in_w&minus;100:in_h&minus;100:100:100
        # crop 10 pixels from the left and right borders, and 20 pixels from
        # the top and bottom borders
        &quot;crop=in_w&minus;2*10:in_h&minus;2*20&quot;
        # keep only the bottom right quarter of the input image
        &quot;crop=in_w/2:in_h/2:in_w/2:in_h/2&quot;
        # crop height for getting Greek harmony
        &quot;crop=in_w:1/PHI*in_w&quot;
        # trembling effect
        &quot;crop=in_w/2:in_h/2:(in_w&minus;out_w)/2+((in_w&minus;out_w)/2)*sin(n/10):(in_h&minus;out_h)/2 +((in_h&minus;out_h)/2)*sin(n/7)&quot;
        # erratic camera effect depending on timestamp
        &quot;crop=in_w/2:in_h/2:(in_w&minus;out_w)/2+((in_w&minus;out_w)/2)*sin(t*10):(in_h&minus;out_h)/2 +((in_h&minus;out_h)/2)*sin(t*13)&quot;
        # set x depending on the value of y
        &quot;crop=in_w/2:in_h/2:y:10+10*sin(n/10)&quot;</pre>



<p style="margin-left:11%; margin-top: 1em"><b>cropdetect</b>
<br>
Auto-detect crop size.</p>

<p style="margin-left:11%; margin-top: 1em">Calculate
necessary cropping parameters and prints the recommended
parameters through the logging system. The detected
dimensions correspond to the non-black area of the input
video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
syntax:</p>

<pre style="margin-left:11%; margin-top: 1em">        cropdetect[=&lt;limit&gt;[:&lt;round&gt;[:&lt;reset&gt;]]]</pre>


<p style="margin-left:11%;"><b>limit</b></p>

<p style="margin-left:17%;">Threshold, which can be
optionally specified from nothing (0) to everything (255),
defaults to 24.</p>

<p style="margin-left:11%;"><b>round</b></p>

<p style="margin-left:17%;">Value which the width/height
should be divisible by, defaults to 16. The offset is
automatically adjusted to center the video. Use 2 to get
only even dimensions (needed for 4:2:2 video). 16 is best
when encoding to most video codecs.</p>

<p style="margin-left:11%;"><b>reset</b></p>

<p style="margin-left:17%;">Counter that determines after
how many frames cropdetect will reset the previously
detected largest video area and start over to detect the
current optimal crop area. Defaults to 0.</p>

<p style="margin-left:17%; margin-top: 1em">This can be
useful when channel logos distort the video area. 0
indicates never reset and return the largest area
encountered during playback.</p>

<p style="margin-left:11%; margin-top: 1em"><b>drawbox</b>
<br>
Draw a colored box on the input image.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
syntax:</p>

<pre style="margin-left:11%; margin-top: 1em">        drawbox=&lt;x&gt;:&lt;y&gt;:&lt;width&gt;:&lt;height&gt;:&lt;color&gt;</pre>


<p style="margin-left:11%;"><b>x, y</b></p>

<p style="margin-left:17%;">Specify the top left corner
coordinates of the box. Default to 0.</p>

<p style="margin-left:11%;"><b>width, height</b></p>

<p style="margin-left:17%;">Specify the width and height of
the box, if 0 they are interpreted as the input width and
height. Default to 0.</p>

<p style="margin-left:11%;"><b>color</b></p>

<p style="margin-left:17%;">Specify the color of the box to
write, it can be the name of a color (case insensitive
match) or a 0xRRGGBB[ <small>AA</small> ] sequence.</p>

<p style="margin-left:11%; margin-top: 1em">Follow some
examples:</p>

<pre style="margin-left:11%; margin-top: 1em">        # draw a black box around the edge of the input image
        drawbox
        # draw a box with color red and an opacity of 50%
        drawbox=10:20:200:60:red@0.5&quot;</pre>


<p style="margin-left:11%; margin-top: 1em"><b>fifo</b>
<br>
Buffer input images and send them when they are
requested.</p>

<p style="margin-left:11%; margin-top: 1em">This filter is
mainly useful when auto-inserted by the libavfilter
framework.</p>

<p style="margin-left:11%; margin-top: 1em">The filter does
not take parameters.</p>

<p style="margin-left:11%; margin-top: 1em"><b>format</b>
<br>
Convert the input video to one of the specified pixel
formats. Libavfilter will try to pick one that is supported
for the input to the next filter.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts a list of pixel format names, separated by
&quot;:&quot;, for example
&quot;yuv420p:monow:rgb24&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Some examples
follow:</p>

<pre style="margin-left:11%; margin-top: 1em">        # convert the input video to the format &quot;yuv420p&quot;
        format=yuv420p
        # convert the input video to any of the formats in the list
        format=yuv420p:yuv444p:yuv410p</pre>


<p style="margin-left:11%; margin-top: 1em"><b>frei0r</b>
<br>
Apply a frei0r effect to the input video.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter you need to install the frei0r
header and configure FFmpeg with
&minus;&minus;enable&minus;frei0r.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
supports the syntax:</p>

<pre style="margin-left:11%; margin-top: 1em">        &lt;filter_name&gt;[{:|=}&lt;param1&gt;:&lt;param2&gt;:...:&lt;paramN&gt;]</pre>



<p style="margin-left:11%; margin-top: 1em"><i>filter_name</i>
is the name to the frei0r effect to load. If the environment
variable <b><small>FREI0R_PATH</small></b> is defined, the
frei0r effect is searched in each one of the directories
specified by the colon separated list in
<b><small>FREIOR_PATH</small></b> , otherwise in the
standard frei0r paths, which are in this order:
<i><small>HOME/</small> .frei0r&minus;1/lib/</i>,
<i>/usr/local/lib/frei0r&minus;1/</i>,
<i>/usr/lib/frei0r&minus;1/</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>param1</i>,
<i>param2</i>, ... , <i>paramN</i> specify the parameters
for the frei0r effect.</p>

<p style="margin-left:11%; margin-top: 1em">A frei0r effect
parameter can be a boolean (whose values are specified with
&quot;y&quot; and &quot;n&quot;), a double, a color
(specified by the syntax <i>R</i>/<i>G</i>/<i>B</i>,
<i>R</i>, <i>G</i>, and <i>B</i> being float numbers from
0.0 to 1.0) or by an <tt>&quot;av_parse_color()&quot;</tt>
color description), a position (specified by the syntax
<i>X</i>/<i>Y</i>, <i>X</i> and <i>Y</i> being float
numbers) and a string.</p>

<p style="margin-left:11%; margin-top: 1em">The number and
kind of parameters depend on the loaded effect. If an effect
parameter is not specified the default value is set.</p>

<p style="margin-left:11%; margin-top: 1em">Some examples
follow:</p>

<pre style="margin-left:11%; margin-top: 1em">        # apply the distort0r effect, set the first two double parameters
        frei0r=distort0r:0.5:0.01
        # apply the colordistance effect, takes a color as first parameter
        frei0r=colordistance:0.2/0.3/0.4
        frei0r=colordistance:violet
        frei0r=colordistance:0x112233
        # apply the perspective effect, specify the top left and top right
        # image positions
        frei0r=perspective:0.2/0.2:0.8/0.2</pre>


<p style="margin-left:11%; margin-top: 1em">For more
information see: &lt;<b>http://piksel.org/frei0r</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>gradfun</b>
<br>
Fix the banding artifacts that are sometimes introduced into
nearly flat regions by truncation to 8bit colordepth.
Interpolate the gradients that should go where the bands
are, and dither them.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
takes two optional parameters, separated by &rsquo;:&rsquo;:
<i>strength</i>:<i>radius</i></p>


<p style="margin-left:11%; margin-top: 1em"><i>strength</i>
is the maximum amount by which the filter will change any
one pixel. Also the threshold for detecting nearly flat
regions. Acceptable values range from .51 to 255, default
value is 1.2, out-of-range values will be clipped to the
valid range.</p>

<p style="margin-left:11%; margin-top: 1em"><i>radius</i>
is the neighborhood to fit the gradient to. A larger radius
makes for smoother gradients, but also prevents the filter
from modifying the pixels near detailed regions. Acceptable
values are 8&minus;32, default value is 16, out-of-range
values will be clipped to the valid range.</p>

<pre style="margin-left:11%; margin-top: 1em">        # default parameters
        gradfun=1.2:16
        # omitting radius
        gradfun=1.2</pre>


<p style="margin-left:11%; margin-top: 1em"><b>hflip</b>
<br>
Flip the input video horizontally.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
horizontally flip the video in input with <i>ffmpeg</i>:</p>

<pre style="margin-left:11%; margin-top: 1em">        ffmpeg &minus;i in.avi &minus;vf &quot;hflip&quot; out.avi</pre>


<p style="margin-left:11%; margin-top: 1em"><b>hqdn3d</b>
<br>
High precision/quality 3d denoise filter. This filter aims
to reduce image noise producing smooth images and making
still images really still. It should enhance
compressibility.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following optional parameters:
<i>luma_spatial</i>:<i>chroma_spatial</i>:<i>luma_tmp</i>:<i>chroma_tmp</i>
<b><br>
luma_spatial</b></p>

<p style="margin-left:17%;">a non-negative float number
which specifies spatial luma strength, defaults to 4.0</p>

<p style="margin-left:11%;"><b>chroma_spatial</b></p>

<p style="margin-left:17%;">a non-negative float number
which specifies spatial chroma strength, defaults to
3.0*<i>luma_spatial</i>/4.0</p>

<p style="margin-left:11%;"><b>luma_tmp</b></p>

<p style="margin-left:17%;">a float number which specifies
luma temporal strength, defaults to
6.0*<i>luma_spatial</i>/4.0</p>

<p style="margin-left:11%;"><b>chroma_tmp</b></p>

<p style="margin-left:17%;">a float number which specifies
chroma temporal strength, defaults to
<i>luma_tmp</i>*<i>chroma_spatial</i>/<i>luma_spatial</i></p>


<p style="margin-left:11%; margin-top: 1em"><b>noformat</b>
<br>
Force libavfilter not to use any of the specified pixel
formats for the input to the next filter.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts a list of pixel format names, separated by
&quot;:&quot;, for example
&quot;yuv420p:monow:rgb24&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Some examples
follow:</p>

<pre style="margin-left:11%; margin-top: 1em">        # force libavfilter to use a format different from &quot;yuv420p&quot; for the
        # input to the vflip filter
        noformat=yuv420p,vflip
        # convert the input video to any of the formats not contained in the list
        noformat=yuv420p:yuv444p:yuv410p</pre>


<p style="margin-left:11%; margin-top: 1em"><b>null</b>
<br>
Pass the video source unchanged to the output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ocv</b> <br>
Apply video transform using libopencv.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
filter install libopencv library and headers and configure
FFmpeg with &minus;&minus;enable&minus;libopencv.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
takes the parameters:
<i>filter_name</i>{:=}<i>filter_params</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>filter_name</i>
is the name of the libopencv filter to apply.</p>


<p style="margin-left:11%; margin-top: 1em"><i>filter_params</i>
specifies the parameters to pass to the libopencv filter. If
not specified the default values are assumed.</p>

<p style="margin-left:11%; margin-top: 1em">Refer to the
official libopencv documentation for more precise
informations:
&lt;<b>http://opencv.willowgarage.com/documentation/c/image_filtering.html</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Follows the
list of supported libopencv filters.</p>


<p style="margin-left:11%; margin-top: 1em"><i>dilate</i></p>

<p style="margin-left:11%; margin-top: 1em">Dilate an image
by using a specific structuring element. This filter
corresponds to the libopencv function
<tt>&quot;cvDilate&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
parameters: <i>struct_el</i>:<i>nb_iterations</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>struct_el</i>
represents a structuring element, and has the syntax:
<i>cols</i>x<i>rows</i>+<i>anchor_x</i>x<i>anchor_y</i>/<i>shape</i></p>

<p style="margin-left:11%; margin-top: 1em"><i>cols</i> and
<i>rows</i> represent the number of colums and rows of the
structuring element, <i>anchor_x</i> and <i>anchor_y</i> the
anchor point, and <i>shape</i> the shape for the structuring
element, and can be one of the values &quot;rect&quot;,
&quot;cross&quot;, &quot;ellipse&quot;,
&quot;custom&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">If the value
for <i>shape</i> is &quot;custom&quot;, it must be followed
by a string of the form &quot;=<i>filename</i>&quot;. The
file with name <i>filename</i> is assumed to represent a
binary image, with each printable character corresponding to
a bright pixel. When a custom <i>shape</i> is used,
<i>cols</i> and <i>rows</i> are ignored, the number or
columns and rows of the read file are assumed instead.</p>

<p style="margin-left:11%; margin-top: 1em">The default
value for <i>struct_el</i> is &quot;3x3+0x0/rect&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>nb_iterations</i>
specifies the number of times the transform is applied to
the image, and defaults to 1.</p>

<p style="margin-left:11%; margin-top: 1em">Follow some
example:</p>

<pre style="margin-left:11%; margin-top: 1em">        # use the default values
        ocv=dilate
        # dilate using a structuring element with a 5x5 cross, iterate two times
        ocv=dilate=5x5+2x2/cross:2
        # read the shape from the file diamond.shape, iterate two times
        # the file diamond.shape may contain a pattern of characters like this:
        #   *
        #  ***
        # *****
        #  ***
        #   *
        # the specified cols and rows are ignored (but not the anchor point coordinates)
        ocv=0x0+2x2/custom=diamond.shape:2</pre>



<p style="margin-left:11%; margin-top: 1em"><i>erode</i></p>

<p style="margin-left:11%; margin-top: 1em">Erode an image
by using a specific structuring element. This filter
corresponds to the libopencv function
<tt>&quot;cvErode&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the parameters:
<i>struct_el</i>:<i>nb_iterations</i>, with the same meaning
and use of those of the dilate filter.</p>


<p style="margin-left:11%; margin-top: 1em"><i>smooth</i></p>

<p style="margin-left:11%; margin-top: 1em">Smooth the
input video.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
takes the following parameters:
<i>type</i>:<i>param1</i>:<i>param2</i>:<i>param3</i>:<i>param4</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>type</i> is
the type of smooth filter to apply, and can be one of the
following values: &quot;blur&quot;,
&quot;blur_no_scale&quot;, &quot;median&quot;,
&quot;gaussian&quot;, &quot;bilateral&quot;. The default
value is &quot;gaussian&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>param1</i>,
<i>param2</i>, <i>param3</i>, and <i>param4</i> are
parameters whose meanings depend on smooth type.
<i>param1</i> and <i>param2</i> accept integer positive
values or 0, <i>param3</i> and <i>param4</i> accept float
values.</p>

<p style="margin-left:11%; margin-top: 1em">The default
value for <i>param1</i> is 3, the default value for the
other parameters is 0.</p>

<p style="margin-left:11%; margin-top: 1em">These
parameters correspond to the parameters assigned to the
libopencv function <tt>&quot;cvSmooth&quot;</tt>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>overlay</b>
<br>
Overlay one video on top of another.</p>

<p style="margin-left:11%; margin-top: 1em">It takes two
inputs and one output, the first input is the
&quot;main&quot; video on which the second input is
overlayed.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
parameters: <i>x</i>:<i>y</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>x</i> is the
x coordinate of the overlayed video on the main video,
<i>y</i> is the y coordinate. The parameters are expressions
containing the following parameters: <b><br>
main_w, main_h</b></p>

<p style="margin-left:17%;">main input width and height</p>

<p style="margin-left:11%;"><b>W, H</b></p>

<p style="margin-left:17%;">same as <i>main_w</i> and
<i>main_h</i></p>

<p style="margin-left:11%;"><b>overlay_w, overlay_h</b></p>

<p style="margin-left:17%;">overlay input width and
height</p>

<p style="margin-left:11%;"><b>w, h</b></p>

<p style="margin-left:17%;">same as <i>overlay_w</i> and
<i>overlay_h</i></p>

<p style="margin-left:11%; margin-top: 1em">Be aware that
frames are taken from each input video in timestamp order,
hence, if their initial timestamps differ, it is a a good
idea to pass the two inputs through a
<i>setpts=PTS&minus;STARTPTS</i> filter to have them begin
in the same zero timestamp, as it does the example for the
<i>movie</i> filter.</p>

<p style="margin-left:11%; margin-top: 1em">Follow some
examples:</p>

<pre style="margin-left:11%; margin-top: 1em">        # draw the overlay at 10 pixels from the bottom right
        # corner of the main video.
        overlay=main_w&minus;overlay_w&minus;10:main_h&minus;overlay_h&minus;10
        # insert a transparent PNG logo in the bottom left corner of the input
        movie=0:png:logo.png [logo];
        [in][logo] overlay=10:main_h&minus;overlay_h&minus;10 [out]
        # insert 2 different transparent PNG logos (second logo on bottom
        # right corner):
        movie=0:png:logo1.png [logo1];
        movie=0:png:logo2.png [logo2];
        [in][logo1]       overlay=10:H&minus;h&minus;10 [in+logo1];
        [in+logo1][logo2] overlay=W&minus;w&minus;10:H&minus;h&minus;10 [out]
        # add a transparent color layer on top of the main video,
        # WxH specifies the size of the main input to the overlay filter
        color=red.3:WxH [over]; [in][over] overlay [out]</pre>


<p style="margin-left:11%; margin-top: 1em">You can chain
togheter more overlays but the efficiency of such approach
is yet to be tested.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pad</b> <br>
Add paddings to the input image, and places the original
input at the given coordinates <i>x</i>, <i>y</i>.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:
<i>width</i>:<i>height</i>:<i>x</i>:<i>y</i>:<i>color</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Follows the
description of the accepted parameters. <b><br>
width, height</b></p>

<p style="margin-left:17%;">Specify the size of the output
image with the paddings added. If the value for <i>width</i>
or <i>height</i> is 0, the corresponding input size is used
for the output.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>width</i> and <i>height</i> is 0.</p>

<p style="margin-left:11%;"><b>x, y</b></p>

<p style="margin-left:17%;">Specify the offsets where to
place the input image in the padded area with respect to the
top/left border of the output image.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>x</i> and <i>y</i> is 0.</p>

<p style="margin-left:11%;"><b>color</b></p>

<p style="margin-left:17%;">Specify the color of the padded
area, it can be the name of a color (case insensitive match)
or a 0xRRGGBB[ <small>AA</small> ] sequence.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>color</i> is &quot;black&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">For
example:</p>

<pre style="margin-left:11%; margin-top: 1em">        # Add paddings with color &quot;violet&quot; to the input video. Output video
        # size is 640x480, the top&minus;left corner of the input video is placed at
        # row 0, column 40.
        pad=640:480:0:40:violet</pre>



<p style="margin-left:11%; margin-top: 1em"><b>pixdesctest</b>
<br>
Pixel format descriptor test filter, mainly useful for
internal testing. The output video should be equal to the
input video.</p>

<p style="margin-left:11%; margin-top: 1em">For
example:</p>

<pre style="margin-left:11%; margin-top: 1em">        format=monow, pixdesctest</pre>


<p style="margin-left:11%; margin-top: 1em">can be used to
test the monowhite pixel format descriptor definition.</p>

<p style="margin-left:11%; margin-top: 1em"><b>scale</b>
<br>
Scale the input video to <i>width</i>:<i>height</i> and/or
convert the image format.</p>

<p style="margin-left:11%; margin-top: 1em">For example the
command:</p>

<pre style="margin-left:11%; margin-top: 1em">        ./ffmpeg &minus;i in.avi &minus;vf &quot;scale=200:100&quot; out.avi</pre>


<p style="margin-left:11%; margin-top: 1em">will scale the
input video to a size of 200x100.</p>

<p style="margin-left:11%; margin-top: 1em">If the input
image format is different from the format requested by the
next filter, the scale filter will convert the input to the
requested format.</p>

<p style="margin-left:11%; margin-top: 1em">If the value
for <i>width</i> or <i>height</i> is 0, the respective input
size is used for the output.</p>

<p style="margin-left:11%; margin-top: 1em">If the value
for <i>width</i> or <i>height</i> is &minus;1, the scale
filter will use, for the respective output size, a value
that maintains the aspect ratio of the input image.</p>

<p style="margin-left:11%; margin-top: 1em">The default
value of <i>width</i> and <i>height</i> is 0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>setpts</b>
<br>
Change the <small>PTS</small> (presentation timestamp) of
the input video frames.</p>

<p style="margin-left:11%; margin-top: 1em">Accept in input
an expression evaluated through the eval <small>API</small>
, which can contain the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>PTS</small></b></p></td>
<td width="2%"></td>
<td width="71%">


<p>the presentation timestamp in input</p></td>
<td width="12%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>PI</small></b></p></td>
<td width="2%"></td>
<td width="71%">


<p>Greek <small>PI</small></p></td>
<td width="12%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><small><b>PHI</b></small></p></td>
<td width="2%"></td>
<td width="71%">


<p>golden ratio</p></td>
<td width="12%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>E</b></p></td>
<td width="2%"></td>
<td width="71%">


<p>Euler number</p></td>
<td width="12%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>N</b></p></td>
<td width="2%"></td>
<td width="71%">


<p>the count of the input frame, starting from 0.</p></td>
<td width="12%">
</td></tr>
</table>


<p style="margin-left:11%;"><b><small>STARTPTS</small></b></p>

<p style="margin-left:17%;">the <small>PTS</small> of the
first video frame</p>


<p style="margin-left:11%;"><b><small>INTERLACED</small></b></p>

<p style="margin-left:17%;">tell if the current frame is
interlaced</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>POS</small></b></p></td>
<td width="2%"></td>
<td width="83%">


<p>original position in the file of the frame, or undefined
if undefined for the current frame</p></td></tr>
</table>


<p style="margin-left:11%;"><b><small>PREV_INPTS</small></b></p>

<p style="margin-left:17%;">previous input
<small>PTS</small></p>


<p style="margin-left:11%;"><small><b>PREV_OUTPTS</b></small></p>

<p style="margin-left:17%;">previous output
<small>PTS</small></p>

<p style="margin-left:11%; margin-top: 1em">Some examples
follow:</p>

<pre style="margin-left:11%; margin-top: 1em">        # start counting PTS from zero
        setpts=PTS&minus;STARTPTS
        # fast motion
        setpts=0.5*PTS
        # slow motion
        setpts=2.0*PTS
        # fixed rate 25 fps
        setpts=N/(25*TB)
        # fixed rate 25 fps with some jitter
        setpts='1/(25*TB) * (N + 0.05 * sin(N*2*PI/25))'</pre>


<p style="margin-left:11%; margin-top: 1em"><b>settb</b>
<br>
Set the timebase to use for the output frames timestamps. It
is mainly useful for testing timebase configuration.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts in
input an arithmetic expression representing a rational. The
expression can contain the constants &quot;
<small>PI</small> &quot;, &quot;E&quot;, &quot;
<small>PHI</small> &quot;, &quot; <small>AVTB</small> &quot;
(the default timebase), and &quot;intb&quot; (the input
timebase).</p>

<p style="margin-left:11%; margin-top: 1em">The default
value for the input is &quot;intb&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Follow some
examples.</p>

<pre style="margin-left:11%; margin-top: 1em">        # set the timebase to 1/25
        settb=1/25
        # set the timebase to 1/10
        settb=0.1
        #set the timebase to 1001/1000
        settb=1+0.001
        #set the timebase to 2*intb
        settb=2*intb
        #set the default timebase value
        settb=AVTB</pre>


<p style="margin-left:11%; margin-top: 1em"><b>slicify</b>
<br>
Pass the images of input video on to next video filter as
multiple slices.</p>

<pre style="margin-left:11%; margin-top: 1em">        ./ffmpeg &minus;i in.avi &minus;vf &quot;slicify=32&quot; out.avi</pre>


<p style="margin-left:11%; margin-top: 1em">The filter
accepts the slice height as parameter. If the parameter is
not specified it will use the default value of 16.</p>

<p style="margin-left:11%; margin-top: 1em">Adding this in
the beginning of filter chains should make filtering faster
due to better use of the memory cache.</p>


<p style="margin-left:11%; margin-top: 1em"><b>transpose</b>
<br>
Transpose rows with columns in the input video and
optionally flip it.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts a
parameter representing an integer, which can assume the
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Rotate by 90 degrees counterclockwise and vertically
flip (default), that is:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        L.R     L.l
        . . &minus;&gt;  . .
        l.r     R.r</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>1</b></p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Rotate by 90 degrees clockwise,
that is:</p></td>
<td width="22%">
</td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        L.R     l.L
        . . &minus;&gt;  . .
        l.r     r.R</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>2</b></p></td>
<td width="5%"></td>
<td width="72%">


<p style="margin-top: 1em">Rotate by 90 degrees
counterclockwise, that is:</p></td>
<td width="11%">
</td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        L.R     R.r
        . . &minus;&gt;  . .
        l.r     L.l</pre>



<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>3</b></p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Rotate by 90 degrees clockwise
and vertically flip, that is:</p></td></tr>
</table>

<pre style="margin-left:17%; margin-top: 1em">        L.R     r.R
        . . &minus;&gt;  . .
        l.r     l.L</pre>


<p style="margin-left:11%; margin-top: 1em"><b>unsharp</b>
<br>
Sharpen or blur the input video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:
<i>luma_msize_x</i>:<i>luma_msize_y</i>:<i>luma_amount</i>:<i>chroma_msize_x</i>:<i>chroma_msize_y</i>:<i>chroma_amount</i></p>

<p style="margin-left:11%; margin-top: 1em">Negative values
for the amount will blur the input video, while positive
values will sharpen. All parameters are optional and default
to the equivalent of the string
&rsquo;5:5:1.0:0:0:0.0&rsquo;. <b><br>
luma_msize_x</b></p>

<p style="margin-left:17%;">Set the luma matrix horizontal
size. It can be an integer between 3 and 13, default value
is 5.</p>

<p style="margin-left:11%;"><b>luma_msize_y</b></p>

<p style="margin-left:17%;">Set the luma matrix vertical
size. It can be an integer between 3 and 13, default value
is 5.</p>

<p style="margin-left:11%;"><b>luma_amount</b></p>

<p style="margin-left:17%;">Set the luma effect strength.
It can be a float number between &minus;2.0 and 5.0, default
value is 1.0.</p>

<p style="margin-left:11%;"><b>chroma_msize_x</b></p>

<p style="margin-left:17%;">Set the chroma matrix
horizontal size. It can be an integer between 3 and 13,
default value is 0.</p>

<p style="margin-left:11%;"><b>chroma_msize_y</b></p>

<p style="margin-left:17%;">Set the chroma matrix vertical
size. It can be an integer between 3 and 13, default value
is 0.</p>

<p style="margin-left:11%;"><b>luma_amount</b></p>

<p style="margin-left:17%;">Set the chroma effect strength.
It can be a float number between &minus;2.0 and 5.0, default
value is 0.0.</p>

<pre style="margin-left:11%; margin-top: 1em">        # Strong luma sharpen effect parameters
        unsharp=7:7:2.5
        # Strong blur of both luma and chroma parameters
        unsharp=7:7:&minus;2:7:7:&minus;2
        # Use the default values with B&lt;ffmpeg&gt;
        ./ffmpeg &minus;i in.avi &minus;vf &quot;unsharp&quot; out.mp4</pre>


<p style="margin-left:11%; margin-top: 1em"><b>vflip</b>
<br>
Flip the input video vertically.</p>

<pre style="margin-left:11%; margin-top: 1em">        ./ffmpeg &minus;i in.avi &minus;vf &quot;vflip&quot; out.avi</pre>


<p style="margin-left:11%; margin-top: 1em"><b>yadif</b>
<br>
Deinterlace the input video (&quot;yadif&quot; means
&quot;yet another deinterlacing filter&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
optional parameters: <i>mode</i>:<i>parity</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>mode</i>
specifies the interlacing mode to adopt, accepts one of the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="5%"></td>
<td width="65%">


<p>output 1 frame for each frame</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="5%"></td>
<td width="65%">


<p>output 1 frame for each field</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="5%"></td>
<td width="65%">


<p>like 0 but skips spatial interlacing check</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>3</b></p></td>
<td width="5%"></td>
<td width="65%">


<p>like 1 but skips spatial interlacing check</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Default value
is 0.</p>

<p style="margin-left:11%; margin-top: 1em"><i>parity</i>
specifies the picture field parity assumed for the input
interlaced video, accepts one of the following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>0</b></p></td>
<td width="3%"></td>
<td width="40%">


<p style="margin-top: 1em">assume bottom field first</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>1</b></p></td>
<td width="3%"></td>
<td width="40%">


<p>assume top field first</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;1</b></p></td>
<td width="3%"></td>
<td width="40%">


<p>enable automatic detection</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Default value
is &minus;1. If interlacing is unknown or decoder does not
export this information, top field first will be
assumed.</p>

<h2>VIDEO SOURCES
<a name="VIDEO SOURCES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available video sources.</p>

<p style="margin-left:11%; margin-top: 1em"><b>buffer</b>
<br>
Buffer video frames, and make them available to the filter
chain.</p>

<p style="margin-left:11%; margin-top: 1em">This source is
mainly intended for a programmatic use, in particular
through the interface defined in
<i>libavfilter/vsrc_buffer.h</i>.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:
<i>width</i>:<i>height</i>:<i>pix_fmt_string</i>:<i>timebase_num</i>:<i>timebase_den</i></p>

<p style="margin-left:11%; margin-top: 1em">All the
parameters need to be explicitely defined.</p>

<p style="margin-left:11%; margin-top: 1em">Follows the
list of the accepted parameters. <b><br>
width, height</b></p>

<p style="margin-left:17%;">Specify the width and height of
the buffered video frames.</p>

<p style="margin-left:11%;"><b>pix_fmt_string</b></p>

<p style="margin-left:17%;">A string representing the pixel
format of the buffered video frames. It may be a number
corresponding to a pixel format, or a pixel format name.</p>

<p style="margin-left:11%;"><b>timebase_num,
timebase_den</b></p>

<p style="margin-left:17%;">Specify numerator and denomitor
of the timebase assumed by the timestamps of the buffered
frames.</p>

<p style="margin-left:11%; margin-top: 1em">For
example:</p>

<pre style="margin-left:11%; margin-top: 1em">        buffer=320:240:yuv410p:1:24</pre>


<p style="margin-left:11%; margin-top: 1em">will instruct
the source to accept video frames with size 320x240 and with
format &quot;yuv410p&quot; and assuming 1/24 as the
timestamps timebase. Since the pixel format with name
&quot;yuv410p&quot; corresponds to the number 6 (check the
enum PixelFormat definition in <i>libavutil/pixfmt.h</i>),
this example corresponds to:</p>

<pre style="margin-left:11%; margin-top: 1em">        buffer=320:240:6:1:24</pre>


<p style="margin-left:11%; margin-top: 1em"><b>color</b>
<br>
Provide an uniformly colored input.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:
<i>color</i>:<i>frame_size</i>:<i>frame_rate</i></p>

<p style="margin-left:11%; margin-top: 1em">Follows the
description of the accepted parameters. <b><br>
color</b></p>

<p style="margin-left:17%;">Specify the color of the
source. It can be the name of a color (case insensitive
match) or a 0xRRGGBB[ <small>AA</small> ] sequence, possibly
followed by an alpha specifier. The default value is
&quot;black&quot;.</p>

<p style="margin-left:11%;"><b>frame_size</b></p>

<p style="margin-left:17%;">Specify the size of the sourced
video, it may be a string of the form
<i>width</i>x<i>heigth</i>, or the name of a size
abbreviation. The default value is &quot;320x240&quot;.</p>

<p style="margin-left:11%;"><b>frame_rate</b></p>

<p style="margin-left:17%;">Specify the frame rate of the
sourced video, as the number of frames generated per second.
It has to be a string in the format
<i>frame_rate_num</i>/<i>frame_rate_den</i>, an integer
number, a float number or a valid video frame rate
abbreviation. The default value is &quot;25&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">For example the
following graph description will generate a red source with
an opacity of 0.2, with size &quot;qcif&quot; and a frame
rate of 10 frames per second, which will be overlayed over
the source connected to the pad with identifier
&quot;in&quot;.</p>

<pre style="margin-left:11%; margin-top: 1em">        &quot;color=red@0.2:qcif:10 [color]; [in][color] overlay [out]&quot;</pre>


<p style="margin-left:11%; margin-top: 1em"><b>nullsrc</b>
<br>
Null video source, never return images. It is mainly useful
as a template and to be employed in analysis / debugging
tools.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts as
optional parameter a string of the form
<i>width</i>:<i>height</i>:<i>timebase</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>width</i>
and <i>height</i> specify the size of the configured source.
The default values of <i>width</i> and <i>height</i> are
respectively 352 and 288 (corresponding to the
<small>CIF</small> size format).</p>


<p style="margin-left:11%; margin-top: 1em"><i>timebase</i>
specifies an arithmetic expression representing a timebase.
The expression can contain the constants &quot;
<small>PI</small> &quot;, &quot;E&quot;, &quot;
<small>PHI</small> &quot;, &quot; <small>AVTB</small> &quot;
(the default timebase), and defaults to the value &quot;
<small>AVTB</small> &quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>frei0r_src</b>
<br>
Provide a frei0r source.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter you need to install the frei0r
header and configure FFmpeg with
&minus;&minus;enable&minus;frei0r.</p>

<p style="margin-left:11%; margin-top: 1em">The source
supports the syntax:</p>

<pre style="margin-left:11%; margin-top: 1em">        &lt;size&gt;:&lt;rate&gt;:&lt;src_name&gt;[{=|:}&lt;param1&gt;:&lt;param2&gt;:...:&lt;paramN&gt;]</pre>


<p style="margin-left:11%; margin-top: 1em"><i>size</i> is
the size of the video to generate, may be a string of the
form <i>width</i>x<i>height</i> or a frame size
abbreviation. <i>rate</i> is the rate of the video to
generate, may be a string of the form <i>num</i>/<i>den</i>
or a frame rate abbreviation. <i>src_name</i> is the name to
the frei0r source to load. For more information regarding
frei0r and how to set the parameters read the section
&quot;frei0r&quot; in the description of the video
filters.</p>

<p style="margin-left:11%; margin-top: 1em">Some examples
follow:</p>

<pre style="margin-left:11%; margin-top: 1em">        # generate a frei0r partik0l source with size 200x200 and framerate 10
        # which is overlayed on the overlay filter main input
        frei0r_src=200x200:10:partik0l=1234 [overlay]; [in][overlay] overlay</pre>


<h2>VIDEO SINKS
<a name="VIDEO SINKS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available video sinks.</p>


<p style="margin-left:11%; margin-top: 1em"><b>nullsink</b>
<br>
Null video sink, do absolutely nothing with the input video.
It is mainly useful as a template and to be employed in
analysis / debugging tools.</p>

<h2>METADATA
<a name="METADATA"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">FFmpeg is able
to dump metadata from media files into a simple
UTF&minus;8&minus;encoded INI-like text file and then load
it back using the metadata muxer/demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">The file format
is as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>1.</p></td>
<td width="2%"></td>
<td width="83%">


<p>A file consists of a header and a number of metadata
tags divided into sections, each on its own line.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>2.</p></td>
<td width="2%"></td>
<td width="83%">


<p>The header is a &rsquo;;FFMETADATA&rsquo; string,
followed by a version number (now 1).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>3.</p></td>
<td width="2%"></td>
<td width="83%">


<p>Metadata tags are of the form
&rsquo;key=value&rsquo;</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>4.</p></td>
<td width="2%"></td>
<td width="83%">


<p>Immediately after header follows global metadata</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>5.</p></td>
<td width="2%"></td>
<td width="83%">


<p>After global metadata there may be sections with
per&minus;stream/per&minus;chapter metadata.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>6.</p></td>
<td width="2%"></td>
<td width="83%">


<p>A section starts with the section name in uppercase
(i.e. <small>STREAM</small> or <small>CHAPTER</small> ) in
brackets (&rsquo;[&rsquo;, &rsquo;]&rsquo;) and ends with
next section or end of file.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>7.</p></td>
<td width="2%"></td>
<td width="83%">


<p>At the beginning of a chapter section there may be an
optional timebase to be used for start/end values. It must
be in form &rsquo;TIMEBASE=num/den&rsquo;, where num and den
are integers. If the timebase is missing then start/end
times are assumed to be in milliseconds. Next a chapter
section must contain chapter start and end times in form
&rsquo;START=num&rsquo;, &rsquo;END=num&rsquo;, where num is
a positive integer.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>8.</p></td>
<td width="2%"></td>
<td width="83%">


<p>Empty lines and lines starting with &rsquo;;&rsquo; or
&rsquo;#&rsquo; are ignored.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>9.</p></td>
<td width="2%"></td>
<td width="83%">


<p>Metadata keys or values containing special characters
(&rsquo;=&rsquo;, &rsquo;;&rsquo;, &rsquo;#&rsquo;,
&rsquo;\&rsquo; and a newline) must be escaped with a
backslash &rsquo;\&rsquo;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>10.</p></td>
<td width="2%"></td>
<td width="83%">


<p>Note that whitespace in metadata (e.g. foo = bar) is
considered to be a part of the tag (in the example above key
is &rsquo;foo &rsquo;, value is &rsquo; bar&rsquo;).</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">A ffmetadata
file might look like this:</p>

<pre style="margin-left:11%; margin-top: 1em">        ;FFMETADATA1
        title=bike\\shed
        ;this is a comment
        artist=FFmpeg troll team
        [CHAPTER]
        TIMEBASE=1/1000
        START=0
        #chapter ends at 0:01:00
        END=60000
        title=chapter \#1
        [STREAM]
        title=multi\
        line</pre>


<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>ffplay</i>(1),
<i>ffprobe</i>(1), <i>ffserver</i>(1) and the FFmpeg
<small>HTML</small> documentation</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The FFmpeg
developers</p>
<hr>
</body>
</html>
